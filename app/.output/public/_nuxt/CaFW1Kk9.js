import{g as a,_ as e}from"./B0vGO1ub.js";import{u as t}from"./C-94qA-i.js";import{y as l,e as s,f as o,g as i,m as n,A as r,q as u,v as d,P as m,Z as c,c as p,$ as v,a0 as g,C as h,O as f,u as b,r as y,t as k,p as _,n as x,k as w,j as C,_ as P,F as $,l as M,a1 as q,z,d as T,a2 as D,o as E,w as I,h as S,a3 as L,i as B,a4 as R}from"./Cv-82GME.js";import{u as j,c as A,a as K,b as F}from"./qiqiReYZ.js";import{r as N}from"./0j5tvf1T.js";import{u as V}from"./Bd0AOEDx.js";const U=l({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{}},setup(a){const e=a;return j(),(a,t)=>(o(),s(d(m),u(e,{"data-type":"ellipsis"}),{default:i(()=>[n(a.$slots,"default",{},()=>[t[0]||(t[0]=r("â€¦"))])]),_:3},16))}}),[O,Y]=A("PaginationRoot"),H=l({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(a,{emit:e}){const t=a,l=e,{siblingCount:r,disabled:u,showEdges:v}=c(t);j();const g=K(t,"page",l,{defaultValue:t.defaultPage,passive:void 0===t.page}),h=p(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return Y({page:g,onPageChange(a){g.value=a},pageCount:h,siblingCount:r,disabled:u,showEdges:v}),(a,e)=>(o(),s(d(m),{as:a.as,"as-child":a.asChild},{default:i(()=>[n(a.$slots,"default",{page:d(g),pageCount:h.value})]),_:3},8,["as","as-child"]))}}),G=l({__name:"PaginationFirst",props:{asChild:{type:Boolean},as:{default:"button"}},setup(a){const e=a,t=O();j();const l=p(()=>1===t.page.value||t.disabled.value);return(a,c)=>(o(),s(d(m),u(e,{"aria-label":"First Page",type:"button"===a.as?"button":void 0,disabled:l.value,onClick:c[0]||(c[0]=a=>!l.value&&d(t).onPageChange(1))}),{default:i(()=>[n(a.$slots,"default",{},()=>[c[1]||(c[1]=r("First page"))])]),_:3},16,["type","disabled"]))}}),J=l({__name:"PaginationLast",props:{asChild:{type:Boolean},as:{default:"button"}},setup(a){const e=a,t=O();j();const l=p(()=>t.page.value===t.pageCount.value||t.disabled.value);return(a,c)=>(o(),s(d(m),u(e,{"aria-label":"Last Page",type:"button"===a.as?"button":void 0,disabled:l.value,onClick:c[0]||(c[0]=a=>!l.value&&d(t).onPageChange(d(t).pageCount.value))}),{default:i(()=>[n(a.$slots,"default",{},()=>[c[1]||(c[1]=r("Last page"))])]),_:3},16,["type","disabled"]))}});function Z(a,e){const t=e-a+1;return Array.from({length:t},(e,t)=>t+a)}const Q="ellipsis";const W=l({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(a){const e=a;j();const t=O(),l=p(()=>function(a,e,t,l){const s=e,o=Math.max(a-t,1),i=Math.min(a+t,s);if(l){const a=Math.min(2*t+5,e)-2,l=o>3&&Math.abs(s-a-1+1)>2&&Math.abs(o-1)>2,n=i<s-2&&Math.abs(s-a)>2&&Math.abs(s-i)>2;if(!l&&n)return[...Z(1,a),Q,s];if(l&&!n){const e=Z(s-a+1,s);return[1,Q,...e]}if(l&&n){const a=Z(o,i);return[1,Q,...a,Q,s]}return Z(1,s)}{const l=2*t+1;return e<l?Z(1,s):a<=t+1?Z(1,l):e-a<=t?Z(e-l+1,s):Z(o,i)}}(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value).map(a=>"number"==typeof a?{type:"page",value:a}:{type:"ellipsis"}));return(a,t)=>(o(),s(d(m),v(g(e)),{default:i(()=>[n(a.$slots,"default",{items:l.value})]),_:3},16))}}),X=l({__name:"PaginationListItem",props:{value:{},asChild:{type:Boolean},as:{default:"button"}},setup(a){const e=a;j();const t=O(),l=p(()=>t.page.value===e.value),c=p(()=>t.disabled.value);return(a,p)=>(o(),s(d(m),u(e,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":l.value?"page":void 0,"data-selected":l.value?"true":void 0,disabled:c.value,type:"button"===a.as?"button":void 0,onClick:p[0]||(p[0]=e=>!c.value&&d(t).onPageChange(a.value))}),{default:i(()=>[n(a.$slots,"default",{},()=>[r(h(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),aa=l({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(a){const e=a;j();const t=O(),l=p(()=>t.page.value===t.pageCount.value||t.disabled.value);return(a,c)=>(o(),s(d(m),u(e,{"aria-label":"Next Page",type:"button"===a.as?"button":void 0,disabled:l.value,onClick:c[0]||(c[0]=a=>!l.value&&d(t).onPageChange(d(t).page.value+1))}),{default:i(()=>[n(a.$slots,"default",{},()=>[c[1]||(c[1]=r("Next page"))])]),_:3},16,["type","disabled"]))}}),ea=l({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(a){const e=a;j();const t=O(),l=p(()=>1===t.page.value||t.disabled.value);return(a,c)=>(o(),s(d(m),u(e,{"aria-label":"Previous Page",type:"button"===a.as?"button":void 0,disabled:l.value,onClick:c[0]||(c[0]=a=>!l.value&&d(t).onPageChange(d(t).page.value-1))}),{default:i(()=>[n(a.$slots,"default",{},()=>[c[1]||(c[1]=r("Prev page"))])]),_:3},16,["type","disabled"]))}}),ta={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},la={__name:"Pagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(a,{emit:e}){const l=a,r=e,m=f(),{dir:c}=t(),v=b(),g=F(y(l,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),r),h=p(()=>l.firstIcon||("rtl"===c.value?v.ui.icons.chevronDoubleRight:v.ui.icons.chevronDoubleLeft)),q=p(()=>l.prevIcon||("rtl"===c.value?v.ui.icons.chevronRight:v.ui.icons.chevronLeft)),z=p(()=>l.nextIcon||("rtl"===c.value?v.ui.icons.chevronLeft:v.ui.icons.chevronRight)),T=p(()=>l.lastIcon||("rtl"===c.value?v.ui.icons.chevronDoubleLeft:v.ui.icons.chevronDoubleRight)),D=p(()=>{var a;return k({extend:k(ta),...(null==(a=v.ui)?void 0:a.pagination)||{}})()});return(e,t)=>{var r;return o(),s(d(H),u(d(g),{class:D.value.root({class:[null==(r=l.ui)?void 0:r.root,l.class]})}),{default:i(({page:t,pageCount:r})=>{var c;return[_(d(W),{class:x(D.value.list({class:null==(c=l.ui)?void 0:c.list}))},{default:i(({items:c})=>{var p,g,f,b;return[a.showControls||m.first?(o(),s(d(G),{key:0,"as-child":"",class:x(D.value.first({class:null==(p=l.ui)?void 0:p.first}))},{default:i(()=>[n(e.$slots,"first",{},()=>{var e;return[_(P,{color:a.color,variant:a.variant,size:a.size,icon:h.value,to:null==(e=a.to)?void 0:e.call(a,1)},null,8,["color","variant","size","icon","to"])]})]),_:3},8,["class"])):w("",!0),a.showControls||m.prev?(o(),s(d(ea),{key:1,"as-child":"",class:x(D.value.prev({class:null==(g=l.ui)?void 0:g.prev}))},{default:i(()=>[n(e.$slots,"prev",{},()=>{var e;return[_(P,{color:a.color,variant:a.variant,size:a.size,icon:q.value,to:t>1?null==(e=a.to)?void 0:e.call(a,t-1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):w("",!0),(o(!0),C($,null,M(c,(m,c)=>{var p,g;return o(),C($,null,["page"===m.type?(o(),s(d(X),{key:c,"as-child":"",value:m.value,class:x(D.value.item({class:null==(p=l.ui)?void 0:p.item}))},{default:i(()=>[n(e.$slots,"item",u({ref_for:!0},{item:m,index:c,page:t,pageCount:r}),()=>{var e;return[_(P,{color:t===m.value?a.activeColor:a.color,variant:t===m.value?a.activeVariant:a.variant,size:a.size,label:String(m.value),ui:{label:D.value.label()},to:null==(e=a.to)?void 0:e.call(a,m.value),square:""},null,8,["color","variant","size","label","ui","to"])]})]),_:2},1032,["value","class"])):(o(),s(d(U),{key:m.type,index:c,"as-child":"",class:x(D.value.ellipsis({class:null==(g=l.ui)?void 0:g.ellipsis}))},{default:i(()=>[n(e.$slots,"ellipsis",{},()=>[_(P,{color:a.color,variant:a.variant,size:a.size,icon:a.ellipsisIcon||d(v).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:2},1032,["index","class"]))],64)}),256)),a.showControls||m.next?(o(),s(d(aa),{key:2,"as-child":"",class:x(D.value.next({class:null==(f=l.ui)?void 0:f.next}))},{default:i(()=>[n(e.$slots,"next",{},()=>{var e;return[_(P,{color:a.color,variant:a.variant,size:a.size,icon:z.value,to:t<r?null==(e=a.to)?void 0:e.call(a,t+1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):w("",!0),a.showControls||m.last?(o(),s(d(J),{key:3,"as-child":"",class:x(D.value.last({class:null==(b=l.ui)?void 0:b.last}))},{default:i(()=>[n(e.$slots,"last",{},()=>{var e;return[_(P,{color:a.color,variant:a.variant,size:a.size,icon:T.value,to:null==(e=a.to)?void 0:e.call(a,r)},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):w("",!0)]}),_:2},1032,["class"])]}),_:3},16,["class"])}}},sa=q("useDataMasterStore",()=>{z();const a=T([]),e=T(!1),t="/admin/master";return{listData:a,loading:e,path:t,loadDataMaster:async a=>{var e,l;try{const e=(await N.get(`${t}/${null==a?void 0:a.master}`,{params:null==a?void 0:a.params})).data||[];return{status:!0,message:e.message||"Data master berhasil dimuat.",data:e.data.data||[],total_halaman:e.data.total_halaman||1,total_data:e.data.total_data||0,halaman_sekarang:e.data.halaman_sekarang||1}}catch(s){if(console.error("Error loading data master:",s),s.message.toLowerCase().includes("network"))return{status:!1,message:"Koneksi bermasalah, silakan cek koneksi internet."};if(null==(e=null==s?void 0:s.response)?void 0:e.data){const{name:a,message:e}=null==(l=null==s?void 0:s.response)?void 0:l.data;return{status:!1,errors:a,message:e}}return{status:!1,errors:"Error",message:s}}},saveDataMaster:async a=>{var e,l;try{const{data:e}=await N.post(`${t}/${a.master}/simpan`,a);return{status:!0,message:e.message||"Data master berhasil disimpan.",data:e.data||null}}catch(s){if(console.error("Error saving data master:",s),s.message.toLowerCase().includes("network"))return{status:!1,message:"Koneksi bermasalah, silakan cek koneksi internet."};if(null==(e=null==s?void 0:s.response)?void 0:e.data){const{name:a,message:e}=null==(l=null==s?void 0:s.response)?void 0:l.data;return{status:!1,errors:a,message:e}}return{status:!1,errors:"Error",message:s}}},deleteDataMaster:async a=>{var e,l;try{const{data:e}=await N.post(`${t}/${a.master}/${a.id}/hapus`,a);return{status:!0,message:e.message||"Data master berhasil dihapus.",data:e.data||null}}catch(s){if(console.error("Error deleting data master:",s),s.message.toLowerCase().includes("network"))return{status:!1,message:"Koneksi bermasalah, silakan cek koneksi internet."};if(null==(e=null==s?void 0:s.response)?void 0:e.data){const{name:a,message:e}=null==(l=null==s?void 0:s.response)?void 0:l.data;return{status:!1,errors:a,message:e}}return{status:!1,errors:"Error",message:s}}},setToggleActive:async a=>{var e,l;try{const{data:e}=await N.post(`${t}/${a.master}/${a.id}/toggle-default`,a);return{status:!0,message:e.message||"Status berhasil diubah.",data:e.data||null}}catch(s){if(console.error("Error toggling active status:",s),s.message.toLowerCase().includes("network"))return{status:!1,message:"Koneksi bermasalah, silakan cek koneksi internet."};if(null==(e=null==s?void 0:s.response)?void 0:e.data){const{name:a,message:e}=null==(l=null==s?void 0:s.response)?void 0:l.data;return{status:!1,errors:a,message:e}}return{status:!1,errors:"Error",message:s}}}}}),oa=q("useGetOpsiStore",()=>{z();const a=T(!1),e="/master";return{loading:a,path:e,loadOpsiMaster:async a=>{var t,l,s;try{const{data:l}=await N.get(`${e}/${a.master}/get-opsi`,{params:a.params});return(null==(t=a.params)?void 0:t.is_with_paginasi)?{data:l.data.data,total_halaman:l.data.total_halaman,halaman_sekarang:l.data.halaman_sekarang,total_data:l.data.total_data,message:l.message,status:!0}:{data:l.data,message:"Berhasil mendapatkan data",status:!0}}catch(o){if(o.message.toLowerCase().includes("network"))return{status:!1,message:"Koneksi bermasalah, silakan cek koneksi internet."};if(null==(l=null==o?void 0:o.response)?void 0:l.data){const{name:a,message:e}=null==(s=null==o?void 0:o.response)?void 0:s.data;return{status:!1,errors:a,message:e}}return{status:!1,errors:"Error",message:o}}}}}),ia={class:"w-full space-y-4 pb-4"},na={class:"flex justify-center border-t border-default pt-4"},ra=l({__name:"mataKuliahFragment",setup(t){const l=D("table"),s=T([{id:"4600",date:"2024-03-11T15:30:00",email:"james.anderson@example.com",amount:594},{id:"4599",date:"2024-03-11T10:10:00",email:"mia.white@example.com",amount:276},{id:"4598",date:"2024-03-11T08:50:00",email:"william.brown@example.com",amount:315},{id:"4597",date:"2024-03-10T19:45:00",email:"emma.davis@example.com",amount:529},{id:"4596",date:"2024-03-10T15:55:00",email:"ethan.harris@example.com",amount:639},{id:"4595",date:"2024-03-10T13:20:00",email:"sophia.miller@example.com",amount:428},{id:"4594",date:"2024-03-10T11:05:00",email:"noah.wilson@example.com",amount:673},{id:"4593",date:"2024-03-09T22:15:00",email:"olivia.jones@example.com",amount:382},{id:"4592",date:"2024-03-09T20:30:00",email:"liam.taylor@example.com",amount:547},{id:"4591",date:"2024-03-09T18:45:00",email:"ava.thomas@example.com",amount:291},{id:"4590",date:"2024-03-09T16:20:00",email:"lucas.martin@example.com",amount:624},{id:"4589",date:"2024-03-09T14:10:00",email:"isabella.clark@example.com",amount:438},{id:"4588",date:"2024-03-09T12:05:00",email:"mason.rodriguez@example.com",amount:583},{id:"4587",date:"2024-03-09T10:30:00",email:"sophia.lee@example.com",amount:347},{id:"4586",date:"2024-03-09T08:15:00",email:"ethan.walker@example.com",amount:692},{id:"4585",date:"2024-03-08T23:40:00",email:"amelia.hall@example.com",amount:419},{id:"4584",date:"2024-03-08T21:25:00",email:"oliver.young@example.com",amount:563},{id:"4583",date:"2024-03-08T19:50:00",email:"aria.king@example.com",amount:328},{id:"4582",date:"2024-03-08T17:35:00",email:"henry.wright@example.com",amount:647},{id:"4581",date:"2024-03-08T15:20:00",email:"luna.lopez@example.com",amount:482}]),i=[{accessorKey:"id",header:"#",cell:({row:a})=>`#${a.getValue("id")}`},{accessorKey:"date",header:"Date",cell:({row:a})=>new Date(a.getValue("date")).toLocaleString("en-US",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit",hour12:!1})},{accessorKey:"email",header:"Email"},{accessorKey:"amount",header:()=>L("div",{class:"text-right"},"Amount"),cell:({row:a})=>{const e=Number.parseFloat(a.getValue("amount")),t=new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(e);return L("div",{class:"text-right font-medium"},t)}}],n=T({pageIndex:0,pageSize:5}),r=sa(),u=oa(),m=V(),c=T(!1);T(!1);const v=T({mata_kuliah_id:null,nama:null,program_studi_id:null,kode_mk:null,gadik_id:null}),g=T(0),h=T(0),f=T(0),b=T({limit:15,page:1}),y=T([]),k=T([]),x=T([]),w=T({post:!1,get:!1,put:!1,delete:!1});p(()=>{const a=[];for(let e=(new Date).getFullYear();e>=2e3;e--)a.push({text:e,value:e});return a});const P=async()=>{w.value.get=!0;const{status:a,data:e,message:t,total_data:l,halaman_sekarang:s,total_halaman:o}=await r.loadDataMaster({params:{...b.value},master:"mata-kuliah"});a?(y.value=e,g.value=l,h.value=o,f.value=s):m.add({title:"error",description:t,color:"error"}),w.value.get=!1};p(()=>{var a,e;const t=y.value,l=t.length>0?null==(a=t[0])?void 0:a.no_urut:0,s=t.length>0?null==(e=t[t.length-1])?void 0:e.no_urut:0;return t.length>0?`Hasil ${l} - ${s} dari ${g.value}`:`Hasil 0 dari ${g.value}`});const $=async(a=null,e=!0)=>{w.value.get=!0;let t=["program-studi"];a&&e?t=[a]:a&&!e&&t.push(a);for(let l=0;l<t.length;l++){const{status:a,data:e,message:s}=await u.loadOpsiMaster({master:"satuan_tree"===t[l]?"satuan":t[l],params:"stakeholder"===t[l]?{kategori:"gadik;gapendik",program_studi_id:v.value.program_studi_id.join(";")}:null});if(a)switch(t[l]){case"program-studi":k.value=e;break;case"stakeholder":x.value=e}else m.add({title:"error",description:s,color:"error"})}w.value.get=!1};return E(async()=>{await P(),await $()}),I(c,a=>{a||(v.value={mata_kuliah_id:null,nama:null,program_studi_id:null,kode_mk:null,gadik_id:null})}),I(()=>v.value.program_studi_id,async()=>{await $("stakeholder",!0)},{deep:!0}),I(()=>b.value.page,()=>{P()},{deep:!0}),(t,r)=>{var u,m,c,p,v,g;const h=e,f=la;return o(),C("div",ia,[_(h,{ref_key:"table",ref:l,pagination:d(n),"onUpdate:pagination":r[0]||(r[0]=a=>B(n)?n.value=a:null),data:d(s),columns:i,"pagination-options":{getPaginationRowModel:d(a)()},class:"flex-1"},null,8,["pagination","data","pagination-options"]),S("div",na,[_(f,{ui:{root:"rounded-full"},"default-page":((null==(m=null==(u=d(l))?void 0:u.tableApi)?void 0:m.getState().pagination.pageIndex)||0)+1,"items-per-page":null==(p=null==(c=d(l))?void 0:c.tableApi)?void 0:p.getState().pagination.pageSize,total:null==(g=null==(v=d(l))?void 0:v.tableApi)?void 0:g.getFilteredRowModel().rows.length,"onUpdate:page":r[1]||(r[1]=a=>{var e,t;return null==(t=null==(e=d(l))?void 0:e.tableApi)?void 0:t.setPageIndex(a-1)})},null,8,["default-page","items-per-page","total"])])])}}}),ua={class:"mt-5 flex flex-row gap-x-5"},da={class:"w-[293px] gap-y-2 h-full -intro-x"},ma={class:"bg-white p-4 rounded-lg min-h-[300px] mt-2"},ca={class:"w-full flex flex-col gap-y-1"},pa=["onClick"],va={class:"grow intro-x"},ga=l({__name:"index",setup(a){R({title:"Data Master",meta:[{name:"Data Master"}]});const e=T("periode-akademik"),t=T([{value:"periode-akademik",text:"Periode Akademik"},{value:"program-studi",text:"Program Studi"},{value:"mata-kuliah",text:"Mata Kuliah"}]);return(a,l)=>(o(),C("div",null,[S("div",ua,[S("div",da,[l[0]||(l[0]=S("div",{class:"bg-secondary px-3 py-2 rounded-lg text-white text-sm font-semibold"}," Menu ",-1)),S("div",ma,[S("div",ca,[(o(!0),C($,null,M(d(t),a=>(o(),C("div",{class:"flex flex-col gap-y-3",key:a.value},[S("div",{class:x(["px-2 py-2 text-sm font-medium rounded cursor-pointer transition duration-500 ease-in-out hover:scale-105",a.value==d(e)?"text-777777 bg-PRIMARY bg-opacity-[0.08] border-l-[3px] border-PRIMARY":"bg-transparent text-777777"]),onClick:t=>a.value!=d(e)?(async a=>{console.log(a),e.value=a})(a.value):null},h(a.text),11,pa)]))),128))])])]),S("div",va,["mata-kuliah"==d(e)?(o(),s(ra,{key:0})):w("",!0)])])]))}});export{ga as default};
