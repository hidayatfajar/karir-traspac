import{d as e,e as a,J as s,z as l,o as t,y as i,j as o,u as r,h as n,E as d,a as m,A as u,w as c,b as p,H as x,_ as f,W as g,I as w}from"./UvJT4o6g.js";import{_ as b}from"./BQyz11sr.js";import{_ as v}from"./a_0U1gg2.js";import{_ as h}from"./CBKgs9FA.js";import"./DzawaOjK.js";import"./D8sKpr_H.js";import"./DnCr5V3S.js";import"./CdcPYxzZ.js";import"./wxNMUwl8.js";import"./DPriY4SE.js";import"./D8G5jBss.js";import"./hr3-BYmJ.js";import"./CHCVVFtd.js";import"./BBFdGTDR.js";import"./c8Jbos54.js";import"./aV-w2MPu.js";import"./pIYm8bBF.js";import"./Dnau8eFb.js";import"./6YJhDAct.js";import"./Cic7byI7.js";import"./_F_G4MiH.js";const k={class:"min-h-screen w-full relative bg-gray-50 flex items-center justify-center p-4"},P={class:"relative w-full max-w-md bg-white rounded-2xl h-fit shadow-xl ring-[5px] ring-white/50 backdrop-blur-lg overflow-hidden"},y={key:0,class:"p-8 sm:p-10 transition-all duration-300"},j={class:"mb-6 text-center"},_={class:"w-full flex flex-col gap-4"},R={class:"w-full h-10"},V={class:"w-full space-y-3 mt-6"},A={class:"text-center mt-6"},K={class:"text-sm text-neutral-500"},M={key:1,class:"p-8 sm:p-10 transition-all duration-300"},z={class:"mb-6 text-center"},T={class:"text-neutral-500 text-base font-medium mt-2"},I={class:"font-bold text-slate-600"},Y={class:"w-full h-10 mb-4"},B={class:"w-full flex justify-center my-8"},U={class:"w-full space-y-3 mt-6"},O={key:2,class:"p-8 sm:p-10 transition-all duration-300"},E={class:"mb-6 text-center"},C={class:"w-full flex flex-col gap-4"},J={class:"w-full h-10"},L={class:"w-full space-y-3 mt-6"},S=e({__name:"forget-password",setup(e){const S=a("email"),H=s(),$=a({email:"fajar@example.com",pin:["","","","","",""],newPassword:"",confirmPassword:""}),D=a({simpan:!1}),F=a({show:!1,error:!1,message:""}),G=(e,a,s=3e3)=>{F.value={show:!0,error:a,message:e},setTimeout(()=>{F.value.show=!1},s)},N=()=>{$.value.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($.value.email)?(D.value.simpan=!0,console.log("Sending verification code to:",$.value.email),setTimeout(()=>{G("Kode verifikasi berhasil dikirim!",!1),D.value.simpan=!1,setTimeout(()=>{S.value="otp",F.value.show=!1},1e3)},1500)):G("Format email tidak valid!",!0)},Q=()=>{$.value.newPassword&&$.value.confirmPassword?$.value.newPassword===$.value.confirmPassword?(D.value.simpan=!0,console.log("Resetting password..."),G("Password berhasil diubah! Anda akan diarahkan ke halaman login.",!1,4e3),setTimeout(()=>{H.push("/auth/login"),D.value.simpan=!1},2e3)):G("Konfirmasi password tidak cocok!",!0):G("Password tidak boleh kosong!",!0)};return(e,a)=>{const s=d,H=b,W=v,q=f,X=g,Z=h;return t(),l("div",k,[a[19]||(a[19]=i("div",{class:"absolute inset-0 z-0 cool-blue-glow"},null,-1)),i("div",P,["email"===r(S)?(t(),l("div",y,[i("div",j,[n(s,{name:"i-mdi-email-fast-outline",class:"text-PRIMARY text-5xl mx-auto"}),a[7]||(a[7]=i("h1",{class:"text-slate-800 text-2xl font-bold leading-tight mt-4"}," Lupa Password? ",-1)),a[8]||(a[8]=i("p",{class:"text-neutral-500 text-base font-medium mt-2"}," Jangan khawatir! Masukkan email Anda di bawah ini untuk menerima kode verifikasi. ",-1))]),i("div",_,[i("div",R,[r(F).show?(t(),m(H,{key:0,title:r(F).message,class:u(["px-4 py-2 font-medium text-xs leading-4 h-auto text-center",[r(F).error?"bg-red-50 text-red-600":"bg-green-50 text-green-600"]])},null,8,["title","class"])):o("",!0)]),n(W,{class:"w-full",label:"Email",variant:"soft",placeholder:"Masukkan Email Anda",size:"xl",modelValue:r($).email,"onUpdate:modelValue":a[0]||(a[0]=e=>r($).email=e),onKeyup:p(N,["enter"])},{leading:c(()=>[n(s,{name:"i-mdi-email",class:"text-PRIMARY size-5"})]),_:1},8,["modelValue"])]),i("div",V,[n(q,{class:"rounded-xl font-semibold text-base",color:"primary",variant:"solid",size:"xl",block:"",loading:r(D).simpan,disabled:r(D).simpan,onClick:a[1]||(a[1]=e=>N())},{default:c(()=>a[9]||(a[9]=[x(" Kirim Kode Verifikasi ")])),_:1,__:[9]},8,["loading","disabled"])]),i("div",A,[i("p",K,[n(X,{to:"/auth/login",class:"font-medium text-PRIMARY hover:text-opacity-80 inline-flex items-center gap-1"},{default:c(()=>[n(s,{name:"i-mdi-arrow-left"}),a[10]||(a[10]=x(" Kembali ke Login "))]),_:1,__:[10]})])])])):"otp"===r(S)?(t(),l("div",M,[i("div",z,[n(s,{name:"i-mdi-numeric-6-box-multiple-outline",class:"text-PRIMARY text-5xl mx-auto"}),a[13]||(a[13]=i("h1",{class:"text-slate-800 text-2xl font-bold leading-tight mt-4"}," Masukkan Kode OTP ",-1)),i("p",T,[a[11]||(a[11]=x(" Kami telah mengirimkan 6 digit kode verifikasi ke email ")),i("span",I,w(r($).email),1),a[12]||(a[12]=x(". "))])]),i("div",Y,[r(F).show?(t(),m(H,{key:0,title:r(F).message,class:u(["px-4 py-2 font-medium text-xs leading-4 h-auto text-center",[r(F).error?"bg-red-50 text-red-600":"bg-green-50 text-green-600"]])},null,8,["title","class"])):o("",!0)]),i("div",B,[n(Z,{modelValue:r($).pin,"onUpdate:modelValue":a[2]||(a[2]=e=>r($).pin=e),length:6,disabled:r(D).simpan,type:"number",otp:"",color:"primary",highlight:"",size:"lg",placeholder:"-"},null,8,["modelValue","disabled"])]),i("div",U,[n(q,{class:"rounded-xl font-semibold text-base",color:"primary",variant:"solid",size:"xl",block:"",loading:r(D).simpan,disabled:r(D).simpan,onClick:a[3]||(a[3]=e=>{6===$.value.pin.length?(D.value.simpan=!0,console.log("Verifying OTP:",$.value.pin),setTimeout(()=>{"123456"===$.value.pin.join("")?(G("Verifikasi berhasil!",!1),setTimeout(()=>{S.value="reset",F.value.show=!1},1e3)):(G("Kode OTP salah! Silakan coba lagi.",!0),$.value.pin=["","","","","",""]),D.value.simpan=!1},1500)):G("Kode OTP harus 6 digit!",!0)})},{default:c(()=>a[14]||(a[14]=[x(" Verifikasi ")])),_:1,__:[14]},8,["loading","disabled"])]),a[15]||(a[15]=i("div",{class:"text-center mt-6"},[i("p",{class:"text-sm text-neutral-500"},[x(" Tidak menerima kode? "),i("button",{class:"font-medium text-PRIMARY hover:text-opacity-80"}," Kirim Ulang ")])],-1))])):"reset"===r(S)?(t(),l("div",O,[i("div",E,[n(s,{name:"i-mdi-lock-reset",class:"text-PRIMARY text-5xl mx-auto"}),a[16]||(a[16]=i("h1",{class:"text-slate-800 text-2xl font-bold leading-tight mt-4"}," Buat Password Baru ",-1)),a[17]||(a[17]=i("p",{class:"text-neutral-500 text-base font-medium mt-2"}," Password baru Anda harus berbeda dari password sebelumnya. ",-1))]),i("div",C,[i("div",J,[r(F).show?(t(),m(H,{key:0,title:r(F).message,class:u(["px-4 py-2 font-medium text-xs leading-4 h-auto text-center",[r(F).error?"bg-red-50 text-red-600":"bg-green-50 text-green-600"]])},null,8,["title","class"])):o("",!0)]),n(W,{label:"Password Baru",class:"w-full",variant:"soft",type:"password",size:"xl",placeholder:"Masukkan Password Baru",modelValue:r($).newPassword,"onUpdate:modelValue":a[4]||(a[4]=e=>r($).newPassword=e)},{leading:c(()=>[n(s,{name:"i-mdi-password",class:"text-PRIMARY size-5"})]),_:1},8,["modelValue"]),n(W,{label:"Konfirmasi Password Baru",class:"w-full",variant:"soft",type:"password",size:"xl",placeholder:"Ulangi Password Baru Anda",modelValue:r($).confirmPassword,"onUpdate:modelValue":a[5]||(a[5]=e=>r($).confirmPassword=e),onKeyup:p(Q,["enter"])},{leading:c(()=>[n(s,{name:"i-mdi-check-decagram",class:"text-PRIMARY size-5"})]),_:1},8,["modelValue"])]),i("div",L,[n(q,{class:"rounded-xl font-semibold text-base",color:"primary",variant:"solid",size:"xl",block:"",loading:r(D).simpan,disabled:r(D).simpan,onClick:a[6]||(a[6]=e=>Q())},{default:c(()=>a[18]||(a[18]=[x(" Reset Password ")])),_:1,__:[18]},8,["loading","disabled"])])])):o("",!0)])])}}});export{S as default};
