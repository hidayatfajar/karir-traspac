import{d as e,e as a,c as t,a as l,o as s,w as o,h as n,_ as r,y as d,A as u,z as m,F as i,H as c,j as p,I as y,B as b,k as j,u as f}from"./UvJT4o6g.js";import{_ as V}from"./B3lDBwxb.js";import{_ as h}from"./DJLKVqSp.js";import{$ as D,a as v,b as g}from"./CIJJwpWV.js";import"./DzawaOjK.js";import"./DnCr5V3S.js";import"./D8sKpr_H.js";import"./Dnau8eFb.js";import"./D8G5jBss.js";import"./6YJhDAct.js";import"./kRIii9yh.js";import"./wxNMUwl8.js";import"./B_D4osBs.js";import"./C0AU5oYb.js";import"./_F_G4MiH.js";import"./DuiDOSND.js";import"./CG6rWVXv.js";import"./BA-EFEUg.js";import"./DKvSLNNv.js";import"./D3Zd9nM9.js";import"./Cic7byI7.js";import"./DPriY4SE.js";import"./CHCVVFtd.js";import"./aV-w2MPu.js";const k={class:"sm:divide-y divide-default"},x={class:"flex items-stretch sm:divide-x divide-default"},_={class:"hidden sm:flex flex-col justify-center"},L={class:"flex items-center justify-center p-2 gap-4"},w=e({__name:"DateRangePicker",props:{modelValue:{},placeholder:{},label:{}},emits:["update:modelValue"],setup(e,{emit:w}){const C=[{label:"Last 7 days",days:7},{label:"Last 14 days",days:14},{label:"Last 30 days",days:30},{label:"Last 3 months",months:3},{label:"Last 6 months",months:6},{label:"Last year",years:1}],I=a(!1),S=e,H=w,O=e=>{if(!e)return null;return(e instanceof Date?e:new Date(e)).toISOString().split("T")[0]},P=e=>{if(!e)return null;const a=e instanceof Date?e:new Date(e);return v(a,D())},R=t({get:()=>({start:P(S.modelValue.start),end:P(S.modelValue.end)}),set:e=>{H("update:modelValue",{start:e.start?O(e.start.toDate(D())):null,end:e.end?O(e.end.toDate(D())):null})}}),T=e=>{if(!e)return"";return(e instanceof Date?e:new Date(e)).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})},U=e=>{if(!S.modelValue.start||!S.modelValue.end)return!1;const a=g(D());let t=a.copy();e.days?t=t.subtract({days:e.days}):e.months?t=t.subtract({months:e.months}):e.years&&(t=t.subtract({years:e.years}));const l=S.modelValue.start?O(new Date(S.modelValue.start)):null,s=S.modelValue.end?O(new Date(S.modelValue.end)):null,o=O(t.toDate(D())),n=O(a.toDate(D()));return l===o&&s===n},$=()=>{H("update:modelValue",{start:null,end:null}),I.value=!1};return(e,a)=>{const t=r,v=V,w=h;return s(),l(w,{open:f(I),"onUpdate:open":a[2]||(a[2]=e=>j(I)?I.value=e:null)},{content:o(()=>[d("div",k,[d("div",x,[d("div",_,[(s(),m(i,null,b(C,(e,a)=>n(t,{key:a,label:e.label,color:"neutral",variant:"ghost",class:u(["rounded-none px-4",[U(e)?"bg-accented":"hover:bg-accented/50"]]),truncate:"",onClick:a=>(e=>{const a=g(D());let t=a.copy();e.days?t=t.subtract({days:e.days}):e.months?t=t.subtract({months:e.months}):e.years&&(t=t.subtract({years:e.years})),H("update:modelValue",{start:O(t.toDate(D())),end:O(a.toDate(D()))})})(e)},null,8,["label","class","onClick"])),64))]),n(v,{modelValue:f(R),"onUpdate:modelValue":a[0]||(a[0]=e=>j(R)?R.value=e:null),class:"p-2","number-of-months":2,range:""},null,8,["modelValue"])]),d("div",L,[n(t,{color:"neutral",variant:"subtle",class:"px-4",label:"Reset",onClick:$}),n(t,{onClick:a[1]||(a[1]=e=>I.value=!1),label:"Simpan"})])])]),default:o(()=>[n(t,{color:"neutral",variant:"subtle",icon:"i-lucide-calendar",class:"!bg-default"},{default:o(()=>[d("span",{class:u(["truncate",!S.placeholder&&!S.label||S.modelValue.end&&S.modelValue.start?"text-toned":"text-dimmed"])},[e.modelValue.start||e.modelValue.end?(s(),m(i,{key:0},[c(y(T(e.modelValue.start))+" ",1),e.modelValue.end?(s(),m(i,{key:0},[c(" - "+y(T(e.modelValue.end)),1)],64)):p("",!0)],64)):(s(),m(i,{key:1},[c(y(S.placeholder||S.label||"Pilih Tanggal"),1)],64))],2)]),_:1})]),_:1},8,["open"])}}});export{w as default};
