import{s as e,y as t,aS as n,i as a,aT as s,d as l,a5 as o,c as u,aU as r,w as i,aV as v,aW as c,ab as f,aX as d,aY as p,aZ as h,aa as m,a_ as w,v as g,o as y,af as b}from"./BUKko-Vg.js";function z(t,n,r){let i;i=a(r)?{evaluating:r}:{};const{lazy:v=!1,flush:c="pre",evaluating:f,shallow:d=!0,onError:p=s}=i,h=e(!v),m=d?e(n):l(n);let w=0;return o(async e=>{if(!h.value)return;w++;const n=w;let a=!1;f&&Promise.resolve().then(()=>{f.value=!0});try{const s=await t(t=>{e(()=>{f&&(f.value=!1),a||t()})});n===w&&(m.value=s)}catch(s){p(s)}finally{f&&n===w&&(f.value=!1),a=!0}},{flush:c}),v?u(()=>(h.value=!0,m.value)):m}function A(a={}){const{inheritAttrs:s=!0}=a,l=e(),o=t({setup:(e,{slots:t})=>()=>{l.value=t.default}}),u=t({inheritAttrs:s,props:a.props,setup:(e,{attrs:t,slots:n})=>()=>{var o;l.value;const u=null==(o=l.value)?void 0:o.call(l,{...null==a.props?E(t):e,$slots:n});return s&&1===(null==u?void 0:u.length)?u[0]:u}});return n({define:o,reuse:u},[o,u])}function E(e){const t={};for(const n in e)t[r(n)]=e[n];return t}const x=m?window:void 0;function M(e){var t;const n=f(e);return null!=(t=null==n?void 0:n.$el)?t:n}function O(...e){const t=[],n=()=>{t.forEach(e=>e()),t.length=0},a=u(()=>{const t=c(f(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0}),s=d(()=>{var t,n;return[null!=(n=null==(t=a.value)?void 0:t.map(e=>M(e)))?n:[x].filter(e=>null!=e),c(f(a.value?e[1]:e[0])),c(g(a.value?e[2]:e[1])),f(a.value?e[3]:e[2])]},([e,a,s,l])=>{if(n(),!(null==e?void 0:e.length)||!(null==a?void 0:a.length)||!(null==s?void 0:s.length))return;const o=w(l)?{...l}:l;t.push(...e.flatMap(e=>a.flatMap(t=>s.map(n=>((e,t,n,a)=>(e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)))(e,t,n,o)))))},{flush:"post"});return p(n),()=>{s(),n()}}function R(t){const n=function(){const t=e(!1),n=b();return n&&y(()=>{t.value=!0},n),t}();return u(()=>(n.value,Boolean(t())))}function S(t,n={}){const{reset:a=!0,windowResize:s=!0,windowScroll:l=!0,immediate:o=!0,updateTiming:r="sync"}=n,d=e(0),m=e(0),w=e(0),g=e(0),y=e(0),b=e(0),z=e(0),A=e(0);function E(){const e=M(t);if(!e)return void(a&&(d.value=0,m.value=0,w.value=0,g.value=0,y.value=0,b.value=0,z.value=0,A.value=0));const n=e.getBoundingClientRect();d.value=n.height,m.value=n.bottom,w.value=n.left,g.value=n.right,y.value=n.top,b.value=n.width,z.value=n.x,A.value=n.y}function S(){"sync"===r?E():"next-frame"===r&&requestAnimationFrame(()=>E())}return function(e,t,n={}){const{window:a=x,...s}=n;let l;const o=R(()=>a&&"ResizeObserver"in a),r=()=>{l&&(l.disconnect(),l=void 0)},v=u(()=>{const t=f(e);return Array.isArray(t)?t.map(e=>M(e)):[M(t)]}),c=i(v,e=>{if(r(),o.value&&a){l=new ResizeObserver(t);for(const t of e)t&&l.observe(t,s)}},{immediate:!0,flush:"post"}),d=()=>{r(),c()};p(d)}(t,S),i(()=>M(t),e=>!e&&S()),function(e,t,n={}){const{window:a=x,...s}=n;let l;const o=R(()=>a&&"MutationObserver"in a),r=()=>{l&&(l.disconnect(),l=void 0)},v=u(()=>{const t=f(e),n=c(t).map(M).filter(h);return new Set(n)}),d=i(()=>v.value,e=>{r(),o.value&&e.size&&(l=new MutationObserver(t),e.forEach(e=>l.observe(e,s)))},{immediate:!0,flush:"post"}),m=()=>{d(),r()};p(m)}(t,S,{attributeFilter:["style","class"]}),l&&O("scroll",S,{capture:!0,passive:!0}),s&&O("resize",S,{passive:!0}),v(()=>{o&&S()}),{height:d,bottom:m,left:w,right:g,top:y,width:b,x:z,y:A,update:S}}export{O as a,A as b,z as c,S as u};
