import{u as e}from"./DzawaOjK.js";import{u as t}from"./D8sKpr_H.js";import{D as s,p as l,v as a,ai as o,c as i,x as r,a as n,o as d,w as c,j as u,h as p,u as f,A as v,r as m,Z as y,$ as _,m as h,aB as x,H as b,I as g,z as q,y as k,_ as w}from"./UvJT4o6g.js";import{d as $}from"./DnCr5V3S.js";import{_ as j,a as B,b as D,c as O,d as A,e as S,f as I,g as E}from"./DSIHSQkF.js";import{_ as M}from"./hr3-BYmJ.js";const z={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},C={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(C,{emit:F}){const H=C,K=F,L=s(),{t:P}=e(),Z=l(),G=$(a(H,"open","defaultOpen","modal"),K),J=t(o(()=>H.portal)),N=o(()=>H.content),Q=i(()=>{const e={closeAutoFocus:e=>e.preventDefault()};if(!H.dismissible){return["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((e,t)=>(e[t]=e=>{e.preventDefault(),K("close:prevent")},e),e)}return e}),R=i(()=>{var e;return r({extend:r(z),...(null==(e=Z.ui)?void 0:e.modal)||{}})({transition:H.transition,fullscreen:H.fullscreen})});return(e,t)=>(d(),n(f(E),y(_(f(G))),{default:c(({open:s,close:l})=>[L.default?(d(),n(f(j),{key:0,"as-child":"",class:v(H.class)},{default:c(()=>[m(e.$slots,"default",{open:s})]),_:2},1032,["class"])):u("",!0),p(f(B),y(_(f(J))),{default:c(()=>{var s,a;return[C.overlay?(d(),n(f(D),{key:0,class:v(R.value.overlay({class:null==(s=H.ui)?void 0:s.overlay}))},null,8,["class"])):u("",!0),p(f(O),h({class:R.value.content({class:[!L.default&&H.class,null==(a=H.ui)?void 0:a.content]})},N.value,{onAfterEnter:t[0]||(t[0]=e=>K("after:enter")),onAfterLeave:t[1]||(t[1]=e=>K("after:leave"))},x(Q.value)),{default:c(()=>[L.content&&(C.title||L.title||C.description||L.description)?(d(),n(f(M),{key:0},{default:c(()=>[C.title||L.title?(d(),n(f(A),{key:0},{default:c(()=>[m(e.$slots,"title",{},()=>[b(g(C.title),1)])]),_:3})):u("",!0),C.description||L.description?(d(),n(f(S),{key:1},{default:c(()=>[m(e.$slots,"description",{},()=>[b(g(C.description),1)])]),_:3})):u("",!0)]),_:3})):u("",!0),m(e.$slots,"content",{close:l},()=>{var t,s,a;return[L.header||C.title||L.title||C.description||L.description||H.close||L.close?(d(),q("div",{key:0,class:v(R.value.header({class:null==(t=H.ui)?void 0:t.header}))},[m(e.$slots,"header",{close:l},()=>{var t,s,a;return[k("div",{class:v(R.value.wrapper({class:null==(t=H.ui)?void 0:t.wrapper}))},[C.title||L.title?(d(),n(f(A),{key:0,class:v(R.value.title({class:null==(s=H.ui)?void 0:s.title}))},{default:c(()=>[m(e.$slots,"title",{},()=>[b(g(C.title),1)])]),_:3},8,["class"])):u("",!0),C.description||L.description?(d(),n(f(S),{key:1,class:v(R.value.description({class:null==(a=H.ui)?void 0:a.description}))},{default:c(()=>[m(e.$slots,"description",{},()=>[b(g(C.description),1)])]),_:3},8,["class"])):u("",!0)],2),m(e.$slots,"actions"),H.close||L.close?(d(),n(f(I),{key:0,"as-child":""},{default:c(()=>[m(e.$slots,"close",{close:l,ui:R.value},()=>{var e;return[H.close?(d(),n(w,h({key:0,icon:C.closeIcon||f(Z).ui.icons.close,color:"neutral",variant:"ghost","aria-label":f(P)("modal.close")},"object"==typeof H.close?H.close:{},{class:R.value.close({class:null==(e=H.ui)?void 0:e.close})}),null,16,["icon","aria-label","class"])):u("",!0)]})]),_:2},1024)):u("",!0)]})],2)):u("",!0),L.body?(d(),q("div",{key:1,class:v(R.value.body({class:null==(s=H.ui)?void 0:s.body}))},[m(e.$slots,"body",{close:l})],2)):u("",!0),L.footer?(d(),q("div",{key:2,class:v(R.value.footer({class:null==(a=H.ui)?void 0:a.footer}))},[m(e.$slots,"footer",{close:l})],2)):u("",!0)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:3},16))}};export{C as _};
