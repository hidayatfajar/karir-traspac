function n(n,t,e){return Math.min(Math.max(n,t),e)}function t(n){return"number"==typeof n&&!isNaN(n)}function e(e={}){let o,r,i,s,l=[],c=0,a=0,f=0,u=!1;function d(){E(o.selectedScrollSnap(),1)}function p(){u=!1}function g(){u=!1,c=0,a=0}function S(){const n=o.internalEngine().scrollBody.duration();a=n?0:1,u=!0,n||d()}function E(t,e){o.scrollSnapList().forEach((r,i)=>{const s=Math.abs(e),a=l[i],d=i===t,p=n(d?a+s:a-s,0,1);l[i]=p;const g=d&&u,S=o.previousScrollSnap();g&&(l[S]=1-p),d&&function(n,t){const{index:e,dragHandler:r,scrollSnaps:i}=o.internalEngine(),s=r.pointerDown(),l=1/(i.length-1);let a=n,u=s?o.selectedScrollSnap():o.previousScrollSnap();if(s&&a===u){const n=-1*Math.sign(c);a=u,u=e.clone().set(u).add(n).get()}const d=u*l,p=(a-u)*l;f=d+p*t}(t,p),function(n){const t=o.internalEngine().slideRegistry[n],{scrollSnaps:e,containerRect:r}=o.internalEngine(),i=l[n];t.forEach(t=>{const s=o.slideNodes()[t].style,l=parseFloat(i.toFixed(2)),c=l>0,a=function(n){const{axis:t}=o.internalEngine();return`translate${t.scroll.toUpperCase()}(${t.direction(n)}px)`}(c?e[n]:r.width+2);c&&(s.transform=a),s.opacity=l.toString(),s.pointerEvents=i>.5?"auto":"none",c||(s.transform=a)})}(i)})}function y(){const{dragHandler:n,index:t,scrollBody:e}=o.internalEngine(),r=o.selectedScrollSnap();if(!n.pointerDown())return r;const i=Math.sign(e.velocity()),s=Math.sign(c),l=t.clone().set(r).add(-1*i).get();return i&&s?s===i?l:r:null}function h(n){const{dragHandler:e,scrollBody:i}=n.internalEngine(),s=e.pointerDown(),f=i.velocity(),u=i.duration(),d=y(),p=!t(d);if(s){if(!f)return;c+=f,a=Math.abs(f/r),function(n){const{scrollSnaps:e,location:r,target:i}=o.internalEngine();!t(n)||l[n]<.5||(r.set(e[n]),i.set(r))}(d)}if(!s){if(!u||p)return;a+=(1-l[d])/u,a*=.68}p||E(d,a)}function m(){const{target:n,location:e}=o.internalEngine(),r=n.get()-e.get(),i=Math.abs(r)>=1,s=y(),c=!t(s);return h(o),!c&&!i&&l[s]>.999}function v(){return f}return{name:"fade",options:e,init:function(t){o=t;const e=o.selectedScrollSnap(),{scrollBody:c,containerRect:a,axis:f}=o.internalEngine(),E=f.measureSize(a);r=n(.75*E,200,500),u=!1,l=o.scrollSnapList().map((n,t)=>t===e?1:0),i=c.settled,s=o.scrollProgress,c.settled=m,o.scrollProgress=v,o.on("select",S).on("slideFocus",d).on("pointerDown",g).on("pointerUp",p),function(){const{translate:n,slideLooper:t}=o.internalEngine();n.clear(),n.toggleActive(!1),t.loopPoints.forEach(({translate:n})=>{n.clear(),n.toggleActive(!1)})}(),d()},destroy:function(){const{scrollBody:n}=o.internalEngine();n.settled=i,o.scrollProgress=s,o.off("select",S).off("slideFocus",d).off("pointerDown",g).off("pointerUp",p),o.slideNodes().forEach(n=>{const t=n.style;t.opacity="",t.transform="",t.pointerEvents="",n.getAttribute("style")||n.removeAttribute("style")})}}}e.globalOptions=void 0;export{e as default};
