import{y as e,d as a,c as t,e as l,f as s,g as o,p as n,_ as r,h as d,n as u,j as m,F as i,A as c,k as p,C as y,l as b,i as f,v as j}from"./Cv-82GME.js";import{_ as V}from"./d_2OZCr4.js";import{_ as h}from"./I86AUHHy.js";import{$ as v,a as D,b as g}from"./Djnsk7HS.js";import"./C-94qA-i.js";import"./qiqiReYZ.js";import"./-Y1URnw-.js";import"./L1kicMpx.js";import"./J3rnYc0k.js";import"./kRIii9yh.js";import"./DElE_me5.js";import"./BWyE25gP.js";import"./C0AU5oYb.js";import"./_F_G4MiH.js";import"./COkDtpEQ.js";import"./DONp2c5b.js";import"./ChWiUSZH.js";import"./BO6HcSDj.js";import"./D3Zd9nM9.js";import"./Cic7byI7.js";import"./BBBgywtt.js";import"./aV-w2MPu.js";const k={class:"sm:divide-y divide-default"},x={class:"flex items-stretch sm:divide-x divide-default"},L={class:"hidden sm:flex flex-col justify-center"},_={class:"flex items-center justify-center p-2 gap-4"},w=e({__name:"DateRangePicker",props:{modelValue:{},placeholder:{},label:{}},emits:["update:modelValue"],setup(e,{emit:w}){const C=[{label:"Last 7 days",days:7},{label:"Last 14 days",days:14},{label:"Last 30 days",days:30},{label:"Last 3 months",months:3},{label:"Last 6 months",months:6},{label:"Last year",years:1}],S=a(!1),T=e,U=w,I=e=>{if(!e)return null;return(e instanceof Date?e:new Date(e)).toISOString().split("T")[0]},O=e=>{if(!e)return null;const a=e instanceof Date?e:new Date(e);return D(a,v())},P=t({get:()=>({start:O(T.modelValue.start),end:O(T.modelValue.end)}),set:e=>{U("update:modelValue",{start:e.start?I(e.start.toDate(v())):null,end:e.end?I(e.end.toDate(v())):null})}}),R=e=>{if(!e)return"";return(e instanceof Date?e:new Date(e)).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})},$=e=>{if(!T.modelValue.start||!T.modelValue.end)return!1;const a=g(v());let t=a.copy();e.days?t=t.subtract({days:e.days}):e.months?t=t.subtract({months:e.months}):e.years&&(t=t.subtract({years:e.years}));const l=T.modelValue.start?I(new Date(T.modelValue.start)):null,s=T.modelValue.end?I(new Date(T.modelValue.end)):null,o=I(t.toDate(v())),n=I(a.toDate(v()));return l===o&&s===n},A=()=>{U("update:modelValue",{start:null,end:null}),S.value=!1};return(e,a)=>{const t=r,D=V,w=h;return s(),l(w,{open:j(S),"onUpdate:open":a[2]||(a[2]=e=>f(S)?S.value=e:null)},{content:o(()=>[d("div",k,[d("div",x,[d("div",L,[(s(),m(i,null,b(C,(e,a)=>n(t,{key:a,label:e.label,color:"neutral",variant:"ghost",class:u(["rounded-none px-4",[$(e)?"bg-accented":"hover:bg-accented/50"]]),truncate:"",onClick:a=>(e=>{const a=g(v());let t=a.copy();e.days?t=t.subtract({days:e.days}):e.months?t=t.subtract({months:e.months}):e.years&&(t=t.subtract({years:e.years})),U("update:modelValue",{start:I(t.toDate(v())),end:I(a.toDate(v()))})})(e)},null,8,["label","class","onClick"])),64))]),n(D,{modelValue:j(P),"onUpdate:modelValue":a[0]||(a[0]=e=>f(P)?P.value=e:null),class:"p-2","number-of-months":2,range:""},null,8,["modelValue"])]),d("div",_,[n(t,{color:"neutral",variant:"subtle",class:"px-4",label:"Reset",onClick:A}),n(t,{onClick:a[1]||(a[1]=e=>S.value=!1),label:"Simpan"})])])]),default:o(()=>[n(t,{color:"neutral",variant:"subtle",icon:"i-lucide-calendar",class:"!bg-default"},{default:o(()=>[d("span",{class:u(["truncate",!T.placeholder&&!T.label||T.modelValue.end&&T.modelValue.start?"text-toned":"text-dimmed"])},[e.modelValue.start||e.modelValue.end?(s(),m(i,{key:0},[c(y(R(e.modelValue.start))+" ",1),e.modelValue.end?(s(),m(i,{key:0},[c(" - "+y(R(e.modelValue.end)),1)],64)):p("",!0)],64)):(s(),m(i,{key:1},[c(y(T.placeholder||T.label||"Pilih Tanggal"),1)],64))],2)]),_:1})]),_:1},8,["open"])}}});export{w as default};
