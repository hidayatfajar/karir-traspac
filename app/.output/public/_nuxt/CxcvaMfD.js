import{N as t,Q as e,u as s,c as r,t as a,d as i,aa as n,ab as c,e as l,f as o,g as h,h as u,n as d,ac as m,v as A,P as b,ad as g,J as H,ae as L,y as C,p as B,_ as p,i as E}from"./Cv-82GME.js";import{u as F,a as f}from"./C2038Qgg.js";import{_ as R}from"./BCo6x5W8.js";import{_ as y}from"./I86AUHHy.js";import"./Djnsk7HS.js";import"./qiqiReYZ.js";import"./J3rnYc0k.js";import"./L1kicMpx.js";import"./kRIii9yh.js";import"./DElE_me5.js";import"./BWyE25gP.js";import"./C0AU5oYb.js";import"./_F_G4MiH.js";import"./COkDtpEQ.js";import"./DONp2c5b.js";import"./ChWiUSZH.js";import"./-Y1URnw-.js";import"./BO6HcSDj.js";import"./D3Zd9nM9.js";import"./Cic7byI7.js";import"./BBBgywtt.js";import"./aV-w2MPu.js";const _=255,S=100,M=125,G=150;var v,w,I,k,P;(P=v||(v={})).HEX="HEX",P.RGB="RGB",P.HWB="HWB",P.HSL="HSL",P.CIELab="CIELab",P.LCH="LCH",P.CMYK="CMYK",function(t){t.ANALOGOUS="ANALOGOUS",t.COMPLEMENTARY="COMPLEMENTARY",t.SPLIT_COMPLEMENTARY="SPLIT_COMPLEMENTARY",t.TRIADIC="TRIADIC",t.TETRADIC="TETRADIC",t.SQUARE="SQUARE"}(w||(w={})),function(t){t.ADDITIVE="ADDITIVE",t.SUBTRACTIVE="SUBTRACTIVE"}(I||(I={})),function(t){t.black="#000000",t.silver="#C0C0C0",t.gray="#808080",t.white="#FFFFFF",t.maroon="#800000",t.red="#FF0000",t.purple="#800080",t.fuchsia="#FF00FF",t.green="#008000",t.lime="#00FF00",t.olive="#808000",t.yellow="#FFFF00",t.navy="#000080",t.blue="#0000FF",t.teal="#008080",t.aqua="#00FFFF",t.orange="#FFA500",t.aliceblue="#F0F8FF",t.antiquewhite="#FAEBD7",t.aquamarine="#7FFFD4",t.azure="#F0FFFF",t.beige="#F5F5DC",t.bisque="#FFE4C4",t.blanchedalmond="#FFEBCD",t.blueviolet="#8A2BE2",t.brown="#A52A2A",t.burlywood="#DEB887",t.cadetblue="#5F9EA0",t.chartreuse="#7FFF00",t.chocolate="#D2691E",t.coral="#FF7F50",t.cornflowerblue="#6495ED",t.cornsilk="#FFF8DC",t.crimson="#DC143C",t.cyan="#00FFFF",t.darkblue="#00008B",t.darkcyan="#008B8B",t.darkgoldenrod="#B8860B",t.darkgray="#A9A9A9",t.darkgreen="#006400",t.darkgrey="#A9A9A9",t.darkkhaki="#BDB76B",t.darkmagenta="#8B008B",t.darkolivegreen="#556B2F",t.darkorange="#FF8C00",t.darkorchid="#9932CC",t.darkred="#8B0000",t.darksalmon="#E9967A",t.darkseagreen="#8FBC8F",t.darkslateblue="#483D8B",t.darkslategray="#2F4F4F",t.darkslategrey="#2F4F4F",t.darkturquoise="#00CED1",t.darkviolet="#9400D3",t.deeppink="#FF1493",t.deepskyblue="#00BFFF",t.dimgray="#696969",t.dimgrey="#696969",t.dodgerblue="#1E90FF",t.firebrick="#B22222",t.floralwhite="#FFFAF0",t.forestgreen="#228B22",t.gainsboro="#DCDCDC",t.ghostwhite="#F8F8FF",t.gold="#FFD700",t.goldenrod="#DAA520",t.greenyellow="#ADFF2F",t.grey="#808080",t.honeydew="#F0FFF0",t.hotpink="#FF69B4",t.indianred="#CD5C5C",t.indigo="#4B0082",t.ivory="#FFFFF0",t.khaki="#F0E68C",t.lavender="#E6E6FA",t.lavenderblush="#FFF0F5",t.lawngreen="#7CFC00",t.lemonchiffon="#FFFACD",t.lightblue="#ADD8E6",t.lightcoral="#F08080",t.lightcyan="#E0FFFF",t.lightgoldenrodyellow="#FAFAD2",t.lightgray="#D3D3D3",t.lightgreen="#90EE90",t.lightgrey="#D3D3D3",t.lightpink="#FFB6C1",t.lightsalmon="#FFA07A",t.lightseagreen="#20B2AA",t.lightskyblue="#87CEFA",t.lightslategray="#778899",t.lightslategrey="#778899",t.lightsteelblue="#B0C4DE",t.lightyellow="#FFFFE0",t.limegreen="#32CD32",t.linen="#FAF0E6",t.magenta="#FF00FF",t.mediumaquamarine="#66CDAA",t.mediumblue="#0000CD",t.mediumorchid="#BA55D3",t.mediumpurple="#9370DB",t.mediumseagreen="#3CB371",t.mediumslateblue="#7B68EE",t.mediumspringgreen="#00FA9A",t.mediumturquoise="#48D1CC",t.mediumvioletred="#C71585",t.midnightblue="#191970",t.mintcream="#F5FFFA",t.mistyrose="#FFE4E1",t.moccasin="#FFE4B5",t.navajowhite="#FFDEAD",t.oldlace="#FDF5E6",t.olivedrab="#6B8E23",t.orangered="#FF4500",t.orchid="#DA70D6",t.palegoldenrod="#EEE8AA",t.palegreen="#98FB98",t.paleturquoise="#AFEEEE",t.palevioletred="#DB7093",t.papayawhip="#FFEFD5",t.peachpuff="#FFDAB9",t.peru="#CD853F",t.pink="#FFC0CB",t.plum="#DDA0DD",t.powderblue="#B0E0E6",t.rosybrown="#BC8F8F",t.royalblue="#4169E1",t.saddlebrown="#8B4513",t.salmon="#FA8072",t.sandybrown="#F4A460",t.seagreen="#2E8B57",t.seashell="#FFF5EE",t.sienna="#A0522D",t.skyblue="#87CEEB",t.slateblue="#6A5ACD",t.slategray="#708090",t.slategrey="#708090",t.snow="#FFFAFA",t.springgreen="#00FF7F",t.steelblue="#4682B4",t.tan="#D2B48C",t.thistle="#D8BFD8",t.tomato="#FF6347",t.turquoise="#40E0D0",t.violet="#EE82EE",t.wheat="#F5DEB3",t.whitesmoke="#F5F5F5",t.yellowgreen="#9ACD32",t.rebeccapurple="#663399"}(k||(k={}));const O=Object.keys(k),x={HEX:["R","G","B","A"],RGB:["R","G","B","A"],HSL:["H","S","L","A"],HWB:["H","W","B","A"],CIELab:["L","a","b","A"],LCH:["L","C","H","A"],CMYK:["C","M","Y","K","A"]},j={ABGR:v.RGB,ABHW:v.HWB,ACHL:v.LCH,ACKMY:v.CMYK,AHLS:v.HSL,ALAB:v.CIELab,BGR:v.RGB,BHW:v.HWB,CHL:v.LCH,CKMY:v.CMYK,HLS:v.HSL,LAB:v.CIELab};var D;!function(t){t.NUMBER="number",t.BOOLEAN="boolean"}(D||(D={}));const W={[v.HEX]:/^#(?:(?<r>[a-f\d])(?<g>[a-f\d])(?<b>[a-f\d])(?<a>[a-f\d])?|(?<rr>[a-f\d]{2})(?<gg>[a-f\d]{2})(?<bb>[a-f\d]{2})(?<aa>[a-f\d]{2})?)$/i,[v.RGB]:/^rgba?\s*\(\s*(?:(?<r_legacy>(?:\d*\.)?\d+%?)\s*,\s*(?<g_legacy>(?:\d*\.)?\d+%?)\s*,\s*(?<b_legacy>(?:\d*\.)?\d+%?)(?:\s*,\s*(?<a_legacy>(?:\d*\.)?\d+))?|(?<r>(?:\d*\.)?\d+%?)\s+(?<g>(?:\d*\.)?\d+%?)\s+(?<b>(?:\d*\.)?\d+%?)(?:\s*\/\s*(?<a>(?:\d*\.)?\d+%?))?|from\s+(?<from>(?:\w+|\w+\(\s*[^())]+\s*\)|\w+\(from\s+\w+\(.*\)\s*\)|#[a-fA-F\d]+))\s+(?<relative_r>(?:[rgb]|(?:\d*\.)?\d+|calc\([rgb()/*\-+\d.\s]+\)))\s+(?<relative_g>(?:[rgb]|(?:\d*\.)?\d+|calc\([rgb()/*\-+\d.\s]+\)))\s+(?<relative_b>(?:[rgb]|(?:\d*\.)?\d+|calc\([rgb()/*\-+\d.\s]+\)))(?:\s*\/\s*(?<relative_a>(?:(?:\d*\.)?\d+%?|calc\([()/*\-+\d.\s\w]*(?:alpha)?[()/*\-+\d.\s\w]*\)|alpha)))?)\s*\)$/,[v.HWB]:/^hwb\s*\(\s*(?:(?<h>(?:\d*\.)?\d+(?:deg|grad|rad|turn)?)\s+(?<w>(?:\d*\.)?\d+)%\s+(?<b>(?:\d*\.)?\d+)%(?:\s*\/\s*(?<a>(?:\d*\.)?\d+%?))?|from\s+(?<from>(?:\w+|\w+\(\s*[^())]+\s*\)|\w+\(from\s+\w+\(.*\)\s*\)|#[a-fA-F\d]+))\s+(?<relative_h>(?:[hwb]|(?:\d*\.)?\d+|calc\([hwb()/*\-+\d.\s]+\)))\s+(?<relative_w>(?:[hwb]|(?:\d*\.)?\d+|calc\([hwb()/*\-+\d.\s]+\)))%?\s+(?<relative_b>(?:[hwb]|(?:\d*\.)?\d+|calc\([hwb()/*\-+\d.\s]+\)))%?(?:\s*\/\s*(?<relative_a>(?:(?:\d*\.)?\d+%?|calc\([()/*\-+\d.\s\w]*(?:alpha)?[()/*\-+\d.\s\w]*\)|alpha)))?)\s*\)$/,[v.HSL]:/^hsla?\s*\(\s*(?:(?<h_legacy>-?(?:\d*\.)?\d+(?:deg|grad|rad|turn)?)\s*,\s*(?<s_legacy>(?:\d*\.)?\d+)%\s*,\s*(?<l_legacy>(?:\d*\.)?\d+)%(?:\s*,\s*(?<a_legacy>(?:\d*\.)?\d+))?|(?<h>-?(?:\d*\.)?\d+(?:deg|grad|rad|turn)?)\s+(?<s>(?:\d*\.)?\d+)%?\s+(?<l>(?:\d*\.)?\d+)%?(?:\s*\/\s*(?<a>(?:\d*\.)?\d+%?))?|from\s+(?<from>(?:\w+|\w+\(\s*[^())]+\s*\)|\w+\(from\s+\w+\(.*\)\s*\)|#[a-fA-F\d]+))\s+(?<relative_h>(?:[hsl]|(?:\d*\.)?\d+|calc\([hsl()/*\-+\d.\s]+\)))\s+(?<relative_s>(?:[hsl]|(?:\d*\.)?\d+|calc\([hsl()/*\-+\d.\s]+\)))%?\s+(?<relative_l>(?:[hsl]|(?:\d*\.)?\d+|calc\([hsl()/*\-+\d.\s]+\)))%?(?:\s*\/\s*(?<relative_a>(?:(?:\d*\.)?\d+%?|calc\([()/*\-+\d.\s\w]*(?:alpha)?[()/*\-+\d.\s\w]*\)|alpha)))?)\s*\)$/,[v.CIELab]:/^lab\s*\(\s*(?:(?<L>(?:\d*\.)?\d+%?)\s+(?<a>-?(?:\d*\.)?\d+%?)\s+(?<b>-?(?:\d*\.)?\d+%?)(?:\s*\/\s*(?<A>(?:\d*\.)?\d+%?))?|from\s+(?<from>(?:\w+|\w+\(\s*[^())]+\s*\)|\w+\(from\s+\w+\(.*\)\s*\)|#[a-fA-F\d]+))\s+(?<relative_L>(?:[lab]|(?:\d*\.)?\d+|calc\([lab()/*\-+\d.\s]+\)))\s+(?<relative_a>(?:[lab]|(?:\d*\.)?\d+|calc\([lab()/*\-+\d.\s]+\)))\s+(?<relative_b>(?:[lab]|(?:\d*\.)?\d+|calc\([lab()/*\-+\d.\s]+\)))(?:\s*\/\s*(?<relative_A>(?:(?:\d*\.)?\d+%?|calc\([()/*\-+\d.\s\w]*(?:alpha)?[()/*\-+\d.\s\w]*\)|alpha)))?)\s*\)$/,[v.LCH]:/^lch\s*\(\s*(?:(?<l>(?:\d*\.)?\d+%?)\s+(?<c>-?(?:\d*\.)?\d+%?)\s+(?<h>-?(?:\d*\.)?\d+(?:deg|grad|rad|turn)?)(?:\s*\/\s*(?<a>(?:\d*\.)?\d+%?))?|from\s+(?<from>(?:\w+|\w+\(\s*[^())]+\s*\)|\w+\(from\s+\w+\(.*\)\s*\)|#[a-fA-F\d]+))\s+(?<relative_l>(?:[lch]|(?:\d*\.)?\d+|calc\([lch()/*\-+\d.\s]+\)))\s+(?<relative_c>(?:[lch]|(?:\d*\.)?\d+|calc\([lch()/*\-+\d.\s]+\)))\s+(?<relative_h>(?:[lch]|(?:\d*\.)?\d+|calc\([lch()/*\-+\d.\s]+\)))(?:\s*\/\s*(?<relative_a>(?:(?:\d*\.)?\d+%?|calc\([()/*\-+\d.\s\w]*(?:alpha)?[()/*\-+\d.\s\w]*\)|alpha)))?)\s*\)$/,[v.CMYK]:/^(?:device-cmyk|cmyk)\s*\(\s*(?:(?<c_legacy>(?:\d*\.)?\d+%?)\s*,\s*(?<m_legacy>(?:\d*\.)?\d+%?)\s*,\s*(?<y_legacy>(?:\d*\.)?\d+%?)\s*,\s*(?<k_legacy>(?:\d*\.)?\d+%?)(?:\s*,\s*(?<a_legacy>(?:\d*\.)?\d+))?|(?<c>(?:\d*\.)?\d+%?)\s+(?<m>(?:\d*\.)?\d+%?)\s+(?<y>(?:\d*\.)?\d+%?)\s+(?<k>(?:\d*\.)?\d+%?)(?:\s*\/\s*(?<a>(?:\d*\.)?\d+%?))?)\s*\)$/},N={REGEXP:/^calc\(\s*(?<operation>[\d./*+-\w\s]+)\s*\)$/,SCOPED:/\(\s*([^()]+)\s*\)/g,DIVISION:/\s*(?<left>(?:(?:\d*\.)?\d+|\w+))\s*\/\s*(?<right>(?:(?:\d*\.)?\d+|\w+))\s*/,MULTIPLICATION:/\s*(?<left>(?:(?:\d*\.)?\d+|\w+))\s*\*\s*(?<right>(?:(?:\d*\.)?\d+|\w+))\s*/,SUM:/\s*(?<left>(?:(?:\d*\.)?\d+|\w+))\s*\+\s*(?<right>(?:(?:\d*\.)?\d+|\w+))\s*/,REST:/\s*(?<left>(?:(?:\d*\.)?\d+|\w+))\s*-\s*(?<right>(?:(?:\d*\.)?\d+|\w+))\s*/},X=/^(?<number>-?(?:\d*\.)?\d+)(?<units>(?:deg|grad|rad|turn)?)$/,$=/^(-?\d+(?:\.\d+)?|-?\.\d+)%$/,Y=/^0x([a-f\d]{1,2})$/i,T=/\{(\d+)\}/g,U=/,( +|\d+)/g,K=/ +/;var V,z,q;!function(t){t.NONE="none",t.DEGREES="deg",t.GRADIANS="grad",t.RADIANS="rad",t.TURNS="turn"}(V||(V={})),function(t){t.NONE="none",t.PERCENT="percent"}(z||(z={})),function(t){t.DEVICE_CMYK="device-cmyk",t.CMYK="cmyk"}(q||(q={}));const Q={decimals:6,legacyCSS:!1,spacesAfterCommas:!1,anglesUnit:V.NONE,rgbUnit:z.NONE,labUnit:z.NONE,lchUnit:z.NONE,cmykUnit:z.PERCENT,alphaUnit:z.NONE,cmykFunction:q.DEVICE_CMYK},J=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Z=t=>+`${t}`.replace($,"$1"),tt=t=>$.test(`${t}`)?Z(t):Math.min(+t,100),et=t=>(1===t.length&&(t+=t),parseInt(t,16)),st=t=>{const e=lt(t,0).toString(16).toUpperCase();return 1===e.length?`0x0${e}`:`0x${e}`},rt=(t,e=!1)=>!e&&$.test(t)?Math.min(_*Z(t)/100,_):Y.test(t)?(3===t.length&&(t+=t.slice(-1)),e?lt(t)/_:lt(t)):Math.min(+t,e?1:_),at=t=>$.test(t)?ot(M*Z(t)/100,-125,M):ot(+t,-125,M),it=t=>$.test(t)?ot(G*Z(t)/100,-150,G):ot(+t,-150,G),nt=t=>Math.min($.test(t)?Z(t)/100:+t,1),ct=t=>[...t].sort().join("").toUpperCase(),lt=(t,e=6)=>{const s=Math.pow(10,e);return Math.round(+t*s)/s},ot=(t,e,s)=>Math.max(e,Math.min(t,s)),ht=t=>180*t/Math.PI,ut=t=>t*Math.PI/180,dt=360,mt=t=>{if("string"==typeof t){const e=t.match(X).groups,s=+e.number;switch(e.units){case V.RADIANS:t=lt(ht(s));break;case V.TURNS:t=lt(s*dt);break;case V.GRADIANS:t=lt(.9*s);break;case V.DEGREES:default:t=s}}return(t>360||t<0)&&(t-=Math.floor(t/dt)*dt),t},At=t=>("string"==typeof t&&(t=$.test(t)?Z(t)/100:+t),isNaN(+t)||t>1?1:lt(t)),bt=(t,e)=>{let s;switch(e){case V.RADIANS:s=lt(ut(t));break;case V.TURNS:s=lt(t/dt);break;case V.GRADIANS:s=lt(10/9*t);break;case V.DEGREES:case V.NONE:default:s=t}return s},gt=t=>`${t}`in I,Ht=[[.4360747,.3850649,.1430804],[.2225045,.7168786,.0606169],[.0139322,.0971045,.7141733]],Lt=[[3.1338561,-1.6168667,-.4906146],[-.9787684,1.9161415,.033454],[.0719453,-.2289914,1.4052427]],Ct=Ht.map(t=>t.reduce((t,e)=>t+e,0)),Bt=(t,e,s)=>(s<0&&(s+=6),s>=6&&(s-=6),lt(s<1?((e-t)*s+t)*_:s<3?e*_:s<4?((e-t)*(4-s)+t)*_:t*_)),pt=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4,Et=t=>t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,Ft=(t,e,s,r)=>{const a=[0,0,0],i=[t,e,s];return r.forEach((t,e)=>{t.forEach((t,s)=>{a[e]+=t*i[s]})}),a},ft=(t,e,s)=>{e/=100;const r=(s/=100)<=.5?s*(e+1):s+e-s*e,a=2*s-r;return{R:Bt(a,r,2+(t/=60)),G:Bt(a,r,t),B:Bt(a,r,t-2)}},Rt=(t,e,s,r=1)=>{t/=_,e/=_,s/=_,r=Math.min(r,1);const a=Math.max(t,e,s),i=Math.min(t,e,s),n=a-i;let c=0,l=0;const o=(a+i)/2;if(0!==n){switch(a){case t:c=(e-s)/n%6;break;case e:c=(s-t)/n+2;break;case s:c=(t-e)/n+4}c=lt(60*c),c<0&&(c+=360),l=n/(1-Math.abs(2*o-1))}return{H:c,S:lt(100*l),L:lt(100*o),A:r}},yt=(t,e,s)=>{const r=[t/_,e/_,s/_].map(pt),a=Ft(r[0],r[1],r[2],Ht),i=((t,e,s)=>{const r=t=>t>(6/29)**3?Math.cbrt(t):t/(3*(6/29)**2)+4/29,a=r(t/Ct[0]),i=r(e/Ct[1]);return[116*i-16,500*(a-i),200*(i-r(s/Ct[2]))]})(a[0],a[1],a[2]);return{L:i[0],a:i[1],b:i[2]}},_t=(t,e,s)=>{const r=((t,e,s)=>{const r=t=>t>6/29?t**3:3*(6/29)**2*(t-4/29),a=(t+16)/116,i=e/500,n=s/200;return[Ct[0]*r(a+i),Ct[1]*r(a),Ct[2]*r(a-n)]})(t,e,s),a=Ft(r[0],r[1],r[2],Lt).map(Et);return{R:ot(a[0]*_,0,_),G:ot(a[1]*_,0,_),B:ot(a[2]*_,0,_)}},St=(t,e,s)=>{const r=Math.sqrt(e**2+s**2),a=ht(Math.atan2(s,e));return{L:t,C:r,H:mt(a)}},Mt=(t,e,s)=>{const r=ut(s);return{L:t,a:e*Math.cos(r),b:e*Math.sin(r)}},Gt=(t,e,s)=>{const r=yt(t,e,s);return St(r.L,r.a,r.b)},vt=(t,e,s)=>{const r=Mt(t,e,s);return _t(r.L,r.a,r.b)},wt=(t,e,s,r=1)=>({H:Rt(t,e,s,r).H,W:lt(Math.min(t,e,s)/_*100),B:lt(100*(1-Math.max(t,e,s)/_)),A:r}),It=(t,e,s)=>{const r=1-(s/=100)-(e/=100),a=r*(1-Math.abs(t/60%2-1));let i=0,n=0,c=0;return t<60?(i=r,n=a,c=0):t>=60&&t<120?(i=a,n=r,c=0):t>=120&&t<180?(i=0,n=r,c=a):t>=180&&t<240?(i=0,n=a,c=r):t>=240&&t<300?(i=a,n=0,c=r):t>=300&&(i=r,n=0,c=a),i+=e,n+=e,c+=e,{R:ot(i*_,0,_),G:ot(n*_,0,_),B:ot(c*_,0,_)}},kt=(t,e,s,r)=>({R:lt(_*(1-t)*(r=1-r)),G:lt(_*(1-e)*r),B:lt(_*(1-s)*r)}),Pt=(t,e,s)=>{t/=_,e/=_,s/=_;const r=1-Math.max(t,e,s),a=1-r,i=a&&(a-e)/a,n=a&&(a-s)/a;return{C:lt(100*(a&&(a-t)/a)),M:lt(100*i),Y:lt(100*n),K:lt(100*r)}},Ot=(t,e)=>{if(t<0&&(t+=360),t>360&&(t-=360),360===t||0===t)return t;const s=[[0,120],[120,180],[180,240],[240,360]],r=[[0,60],[60,120],[120,240],[240,360]],a=e?r:s;let i=0,n=0,c=0,l=0;return(e?s:r).find((e,s)=>t>=e[0]&&t<e[1]&&(i=e[0],n=e[1],c=a[s][0],l=a[s][1],!0)),c+(l-c)/(n-i)*(t-i)};class xt{get rgb(){return this._rgb}}class jt extends xt{constructor(t){super();const e=t.match(W.HEX).groups;this._r=e.r??e.rr,this._g=e.g??e.gg,this._b=e.b??e.bb,this._a=e.a??e.aa;const s={R:et(this._r),G:et(this._g),B:et(this._b)};void 0!==this._a&&(s.A=et(this._a)/_),this._rgb=s}}class Dt{constructor(t,e,s){this._operations=new Map([[N.DIVISION,this._division],[N.MULTIPLICATION,this._multiplication],[N.SUM,this._sum],[N.REST,this._rest]]),this._colorIndex=t;let r=e,a=0;if(Number.isNaN(+e))if(e in s)this._result=s[e];else if(N.REGEXP.test(r))N.REGEXP.lastIndex=0,this._result=this._getCalcValue(r,s);else{for(;N.SCOPED.test(r)&&a<100;){if(N.SCOPED.lastIndex=0,r=r.replace(N.SCOPED,(t,e)=>this._calculate(e,s).toString()),N.REGEXP.test(r)){N.REGEXP.lastIndex=0;break}a++}this._result=this._getCalcValue(r,s)}else this._result=+e}_division(t,e){return t/e}_multiplication(t,e){return t*e}_sum(t,e){return t+e}_rest(t,e){return t-e}_getCalcValue(t,e){const s=t.match(N.REGEXP).groups.operation,r=this._calculate(s,e);if(Number.isNaN(r))throw new Error(`Invalid value for ${this._colorIndex}. ${s} is not a valid operation for a relative color`);return r}_calculate(t,e){return this._operations.forEach((s,r)=>{let a=0;for(;r.test(t)&&a<100;)t=t.replace(r,(t,r,a)=>s(e[r]??+r,e[a]??+a).toString()),a++}),+t}get result(){return this._result}}class Wt extends xt{get hasPercentageAlpha(){return $.test(this._a)}}class Nt extends Wt{constructor(t,e){super();const s=t.match(W.RGB).groups,{r_legacy:r,g_legacy:a,b_legacy:i,a_legacy:n,r:c,g:l,b:o,a:h,from:u,relative_r:d,relative_g:m,relative_b:A,relative_a:b}=s;if(u){const t=e(u),s={r:t.R,g:t.G,b:t.B,alpha:t.A??1},r=new Dt("r",d,s).result,a=new Dt("g",m,s).result,i=new Dt("b",A,s).result,n={R:Math.min(r,_),G:Math.min(a,_),B:Math.min(i,_)};if(b){const t=new Dt("alpha",b,s).result;n.A=Math.min(t,1)}this._rgb=n}else{this._r=r??c,this._g=a??l,this._b=i??o,this._a=n??h;const t={R:Math.min(rt(this._r),_),G:Math.min(rt(this._g),_),B:Math.min(rt(this._b),_)};void 0!==this._a&&(t.A=At(this._a)),this._rgb=t}}get hasPercentageValues(){return $.test(this._r)&&$.test(this._g)&&$.test(this._b)}static test(t){return W.RGB.test(t)}}class Xt extends Wt{get angleUnit(){if(this._h){const t=this._h.match(X).groups.units;return""===t?V.NONE:t}return V.NONE}}class $t extends Xt{constructor(t,e){super();const s=t.match(W.HSL).groups,{h_legacy:r,s_legacy:a,l_legacy:i,a_legacy:n,h:c,s:l,l:o,a:h,from:u,relative_h:d,relative_s:m,relative_l:A,relative_a:b}=s;if(u){const t=e(u),s=Rt(t.R,t.G,t.B,t.A),r={h:s.H,s:s.S,l:s.L,alpha:s.A},a=new Dt("h",d,r).result,i=new Dt("s",m,r).result,n=new Dt("l",A,r).result,c=ft(ot(a,0,360),ot(i,0,S),ot(n,0,S));if(b){const t=new Dt("alpha",b,r).result;c.A=ot(t,0,1)}this._rgb=c}else{this._h=r??c,this._s=a??l,this._l=i??o,this._a=n??h;const t=ft(mt(this._h),tt(this._s),tt(this._l));void 0!==this._a&&(t.A=At(this._a)),this._rgb=t}}static test(t){return W.HSL.test(t)}}class Yt extends Xt{constructor(t,e){super();const s=t.match(W.HWB).groups,{h:r,w:a,b:i,a:n,from:c,relative_h:l,relative_w:o,relative_b:h,relative_a:u}=s;if(c){const t=e(c),s=wt(t.R,t.G,t.B,t.A),r={h:s.H,w:s.W,b:s.B,alpha:s.A},a=new Dt("h",l,r).result,i=new Dt("w",o,r).result,n=new Dt("b",h,r).result,d=It(ot(a,0,360),ot(i,0,S),ot(n,0,S));if(u){const t=new Dt("alpha",u,r).result;d.A=ot(t,0,1)}this._rgb=d}else{this._h=r,this._w=a,this._b=i,this._a=n;const t=It(mt(this._h),tt(this._w),tt(this._b));void 0!==this._a&&(t.A=At(this._a)),this._rgb=t}}static test(t){return W.HWB.test(t)}}class Tt extends Wt{constructor(t,e){super();const s=t.match(W.CIELab).groups,{L:r,a:a,b:i,A:n,from:c,relative_L:l,relative_a:o,relative_b:h,relative_A:u}=s;if(c){const t=e(c),s=yt(t.R,t.G,t.B),r={l:s.L,a:s.a,b:s.b,alpha:t.A??1},a=new Dt("l",l,r).result,i=new Dt("a",o,r).result,n=new Dt("b",h,r).result,d=_t(ot(a,0,S),ot(i,-125,M),ot(n,-125,M));if(u){const t=new Dt("alpha",u,r).result;d.A=ot(t,0,1)}this._rgb=d}else{this._L=r,this._A=a,this._B=i,this._a=n;const t=_t(tt(this._L),at(this._A),at(this._B));void 0!==this._a&&(t.A=At(this._a)),this._rgb=t}}get hasPercentageValues(){return $.test(this._L)&&$.test(this._A)&&$.test(this._B)}static test(t){return W.CIELab.test(t)}}class Ut extends Xt{constructor(t,e){super();const s=t.match(W.LCH).groups,{l:r,c:a,h:i,a:n,from:c,relative_l:l,relative_c:o,relative_h:h,relative_a:u}=s;if(c){const t=e(c),s=Gt(t.R,t.G,t.B),r={l:s.L,c:s.C,h:s.H,alpha:t.A??1},a=new Dt("l",l,r).result,i=new Dt("c",o,r).result,n=new Dt("h",h,r).result,d=vt(ot(a,0,S),ot(i,-150,G),mt(n));if(u){const t=new Dt("alpha",u,r).result;d.A=ot(t,0,1)}this._rgb=d}else{this._l=r,this._c=a,this._h=i,this._a=n;const t=vt(tt(this._l),it(this._c),mt(this._h));void 0!==this._a&&(t.A=At(this._a)),this._rgb=t}}get hasPercentageValues(){return $.test(this._l)&&$.test(this._c)}static test(t){return W.LCH.test(t)}}class Kt extends Wt{constructor(t){super();const e=t.match(W.CMYK).groups;this._c=e.c_legacy??e.c,this._m=e.m_legacy??e.m,this._y=e.y_legacy??e.y,this._k=e.k_legacy??e.k,this._a=e.a_legacy??e.a;const s=kt(nt(this._c),nt(this._m),nt(this._y),nt(this._k));void 0!==this._a&&(s.A=At(this._a)),this._rgb=s}get hasPercentageValues(){return $.test(this._c)&&$.test(this._m)&&$.test(this._y)&&$.test(this._k)}static test(t){return W.CMYK.test(t)}}const Vt=t=>"string"==typeof t?(t=>{let e;if(Object.keys(v).some(s=>{if(W[s].test(t))return e=s,!0}),!e&&~O.indexOf(t)&&(e=v.HEX),!e)throw new Error("The provided string color doesn't have a correct format");return e})(t):(t=>{let e,s=!1;const r=ct(Object.keys(t));if(j[r]&&(e=j[r]),e&&e===v.RGB){const r=Object.entries(t).some(t=>!Y.test(`${t[1]}`)),a=Object.entries(t).some(t=>!($.test(`${t[1]}`)||!Y.test(`${t[1]}`)&&!isNaN(+t[1])&&+t[1]<=_));r&&a&&(s=!0),r||(e=v.HEX)}if(!e||s)throw new Error("The provided color object doesn't have the proper keys or format");return e})(t),zt={[v.HEX](t){const e=~O.indexOf(t)?k[t]:t;return new jt(e).rgb},[v.RGB]:t=>new Nt(t,Qt).rgb,[v.HSL]:t=>new $t(t,Qt).rgb,[v.HWB]:t=>new Yt(t,Qt).rgb,[v.CIELab]:t=>new Tt(t,Qt).rgb,[v.LCH]:t=>new Ut(t,Qt).rgb,[v.CMYK]:t=>new Kt(t).rgb},qt={[v.HEX](t){const e={R:rt(`${t.R}`),G:rt(`${t.G}`),B:rt(`${t.B}`)};return J(t,"A")&&(e.A=Math.min(rt(`${t.A}`,!0),1)),e},[v.RGB](t){return this.HEX(t)},[v.HSL](t){const e=tt(`${t.S}`),s=tt(`${t.L}`),r=ft(mt(t.H),e,s);return J(t,"A")&&(r.A=At(t.A)),r},[v.HWB](t){const e=tt(`${t.W}`),s=tt(`${t.B}`),r=It(mt(t.H),e,s);return J(t,"A")&&(r.A=At(t.A)),r},[v.CIELab](t){const e=tt(`${t.L}`),s=at(`${t.a}`),r=at(`${t.b}`),a=_t(e,s,r);return J(t,"A")&&(a.A=At(t.A)),a},[v.LCH](t){const e=tt(`${t.L}`),s=it(`${t.C}`),r=mt(`${t.H}`),a=vt(e,s,r);return J(t,"A")&&(a.A=At(t.A)),a},[v.CMYK](t){const e=nt(`${t.C}`),s=nt(`${t.M}`),r=nt(`${t.Y}`),a=nt(`${t.K}`),i=kt(e,s,r,a);return J(t,"A")&&(i.A=At(t.A)),i}},Qt=(t,e=Vt(t))=>"string"==typeof t?zt[e](t):qt[e](t),Jt=(t,...e)=>{const s=[],r=[],a=[],i=[],n=[],c=[],l=[],o=Object.values(V),h=Object.values(z),u=Object.values(q),d={legacyCSS:0,spacesAfterCommas:0,cmykFunction:0};for(const m of e)if("string"==typeof m){if(s.push(m),m.includes(",")){d.legacyCSS++;const t=m.match(U);1===new Set(t).size&&K.test(t[0].slice(1))&&d.spacesAfterCommas++}if($t.test(m)){const t=new $t(m,Qt);r.push(t.angleUnit),l.push(t.hasPercentageAlpha);continue}if(Yt.test(m)){const t=new Yt(m,Qt);r.push(t.angleUnit),l.push(t.hasPercentageAlpha);continue}if(Nt.test(m)){const t=new Nt(m,Qt);a.push(t.hasPercentageValues),l.push(t.hasPercentageAlpha);continue}if(Tt.test(m)){const t=new Tt(m,Qt);i.push(t.hasPercentageValues),l.push(t.hasPercentageAlpha);continue}if(Ut.test(m)){const t=new Ut(m,Qt);r.push(t.angleUnit),n.push(t.hasPercentageValues),l.push(t.hasPercentageAlpha);continue}if(Kt.test(m)){const t=new Kt(m);c.push(t.hasPercentageValues),m.startsWith("cmyk")&&d.cmykFunction++,l.push(t.hasPercentageAlpha)}}return{decimals:typeof t.decimals===D.NUMBER?t.decimals:Q.decimals,legacyCSS:typeof t.legacyCSS===D.BOOLEAN?t.legacyCSS:Boolean(s.length&&d.legacyCSS===s.length)||Q.legacyCSS,spacesAfterCommas:typeof t.spacesAfterCommas===D.BOOLEAN?t.spacesAfterCommas:Boolean(s.length&&d.spacesAfterCommas===s.length)||Q.spacesAfterCommas,anglesUnit:t.anglesUnit&&o.includes(t.anglesUnit)?t.anglesUnit:1===new Set(r).size?r[0]:Q.anglesUnit,rgbUnit:t.rgbUnit&&h.includes(t.rgbUnit)?t.rgbUnit:1===new Set(a).size&&a[0]?z.PERCENT:Q.rgbUnit,labUnit:t.labUnit&&h.includes(t.labUnit)?t.labUnit:1===new Set(i).size&&i[0]?z.PERCENT:Q.labUnit,lchUnit:t.lchUnit&&h.includes(t.lchUnit)?t.lchUnit:1===new Set(n).size&&n[0]?z.PERCENT:Q.lchUnit,cmykUnit:t.cmykUnit&&h.includes(t.cmykUnit)?t.cmykUnit:1!==new Set(c).size||c[0]?Q.cmykUnit:z.NONE,alphaUnit:t.alphaUnit&&h.includes(t.alphaUnit)?t.alphaUnit:1===new Set(l).size&&l[0]?z.PERCENT:Q.alphaUnit,cmykFunction:t.cmykFunction&&u.includes(t.cmykFunction)?t.cmykFunction:c.length&&c.length===d.cmykFunction?q.CMYK:Q.cmykFunction}},Zt=(t,e)=>({H:lt(t.H,e),S:lt(t.S,e),L:lt(t.L,e)}),te=t=>t?", ":",",ee=(t,e)=>{const s=ct(Object.keys(t));return x[j[s]].reduce((s,r,a)=>{const i=t[r];return void 0!==i&&s.push(e(i,a)),s},[])},se=(t,e)=>t.replace(T,(t,s)=>`${e[+s-1]}`),re=(t,e,s=!1)=>{const{alphaUnit:r,legacyCSS:a,decimals:i}=e;return r!==z.PERCENT||a&&!s?lt(t,i):`${lt(100*t,i)}%`},ae=t=>{const{anglesUnit:e,decimals:s}=t;return(r,a)=>0===a&&e!==V.NONE?`${lt(bt(r,e),s)}${e}`:3===a?re(r,t):lt(r,s)},ie={[v.HEX]:t=>{const e=ee(t,t=>(t=>{let e=lt(t,0).toString(16).toUpperCase();return 1===e.length&&(e=`0${e}`),e})(lt(t))),s=4===e.length?"#{1}{2}{3}{4}":"#{1}{2}{3}";return se(s,e)},[v.RGB]:(t,e)=>{const{decimals:s,legacyCSS:r,spacesAfterCommas:a,rgbUnit:i}=e,n=te(a),c=ee(t,(t,r)=>{return i===z.PERCENT&&r<3?`${a=t,n=s,lt(a/_*100,n)}%`:3===r?re(t,e):lt(t,s);var a,n}),l=r?4===c.length?`rgba({1}${n}{2}${n}{3}${n}{4})`:`rgb({1}${n}{2}${n}{3})`:4===c.length?"rgb({1} {2} {3} / {4})":"rgb({1} {2} {3})";return se(l,c)},[v.HSL]:(t,e)=>{const{legacyCSS:s,spacesAfterCommas:r}=e,a=te(r),i=ae(e),n=ee(t,i),c=s?4===n.length?`hsla({1}${a}{2}%${a}{3}%${a}{4})`:`hsl({1}${a}{2}%${a}{3}%)`:4===n.length?"hsl({1} {2}% {3}% / {4})":"hsl({1} {2}% {3}%)";return se(c,n)},[v.HWB]:(t,e)=>{const s=ae(e),r=ee(t,s),a=4===r.length?"hwb({1} {2}% {3}% / {4})":"hwb({1} {2}% {3}%)";return se(a,r)},[v.CIELab]:(t,e)=>{const{decimals:s,labUnit:r}=e,a=ee(t,(t,a)=>{if(0===a){const e=lt(tt(t),s);return r===z.PERCENT?`${e}%`:`${e}`}return a<3?r===z.PERCENT?`${i=t,n=s,lt(i/M*100,n)}%`:lt(t,s):re(t,e,!0);var i,n}),i=4===a.length?"lab({1} {2} {3} / {4})":"lab({1} {2} {3})";return se(i,a)},[v.LCH]:(t,e)=>{const{decimals:s,lchUnit:r,anglesUnit:a}=e,i=ee(t,(t,i)=>{if(0===i){const e=lt(tt(t),s);return r===z.PERCENT?`${e}%`:`${e}`}return 1===i?r===z.PERCENT?`${n=t,c=s,lt(n/G*100,c)}%`:lt(t,s):2===i?a!==V.NONE?`${lt(bt(t,a),s)}${a}`:lt(t,s):re(t,e,!0);var n,c}),n=4===i.length?"lch({1} {2} {3} / {4})":"lch({1} {2} {3})";return se(n,i)},[v.CMYK]:(t,e)=>{const{decimals:s,legacyCSS:r,spacesAfterCommas:a,cmykUnit:i,cmykFunction:n}=e,c=te(a),l=ee(t,(t,r)=>i===z.PERCENT&&r<4?`${lt(t,s)}%`:4===r?re(t,e):lt(t/100,s)),o=r?5===l.length?`${n}({1}${c}{2}${c}{3}${c}{4}${c}{5})`:`${n}({1}${c}{2}${c}{3}${c}{4})`:5===l.length?`${n}({1} {2} {3} {4} / {5})`:`${n}({1} {2} {3} {4})`;return se(o,l)}},ne=(t,e,s)=>e.reduce((e,r)=>[...e,{...t,H:s===I.ADDITIVE?mt(t.H+r):mt(Ot(Ot(t.H,!1)+r,!0))}],[{...t}]),ce=(t,e)=>ne(t,[30,-30],e),le=(t,e)=>ne(t,[180],e),oe=(t,e)=>ne(t,[150,-150],e),he=(t,e)=>ne(t,[120,-120],e),ue=(t,e)=>ne(t,[60,-120,180],e),de=(t,e)=>ne(t,[90,-90,180],e),me={[v.HEX]:t=>({R:st(t.R),G:st(t.G),B:st(t.B)}),HEXA(t){const e=me.HEX(t);return e.A=J(t,"A")?st(t.A*_):"0xFF",e},[v.RGB](t,e){const s=He(t,e);return J(s,"A")&&delete s.A,s},RGBA(t,e){const s=me.RGB(t,e);return s.A=J(t,"A")?lt(t.A):1,s},[v.HSL](t,e){const s=Rt(t.R,t.G,t.B);return delete s.A,Zt(s,e)},HSLA(t,e){const s=me.HSL(t,e);return s.A=J(t,"A")?lt(t.A,e):1,s},[v.HWB](t,e){const s=wt(t.R,t.G,t.B);return delete s.A,a=e,{H:lt((r=s).H,a),W:lt(r.W,a),B:lt(r.B,a)};var r,a},HWBA(t,e){const s=me.HWB(t,e);return s.A=J(t,"A")?lt(t.A,e):1,s},[v.CIELab]:(t,e)=>{return s=yt(t.R,t.G,t.B),r=e,{L:lt(s.L,r),a:lt(s.a,r),b:lt(s.b,r)};var s,r},CIELabA(t,e){const s=me.CIELab(t,e);return s.A=J(t,"A")?lt(t.A,e):1,s},[v.LCH]:(t,e)=>{return s=Gt(t.R,t.G,t.B),r=e,{L:lt(s.L,r),C:lt(s.C,r),H:lt(s.H,r)};var s,r},LCHA(t,e){const s=me.LCH(t,e);return s.A=J(t,"A")?lt(t.A,e):1,s},[v.CMYK]:(t,e)=>{return s=Pt(t.R,t.G,t.B),r=e,{C:lt(s.C,r),M:lt(s.M,r),Y:lt(s.Y,r),K:lt(s.K,r)};var s,r},CMYKA(t,e){const s=me.CMYK(t,e);return s.A=J(t,"A")?lt(t.A,e):1,s}},Ae=(t,e,s,r)=>{const a=Vt(t),i="string"==typeof t,n=Qt(t,a),c="string"==typeof t&&J(n,"A")||"string"!=typeof t&&J(t,"A"),l=Rt(n.R,n.G,n.B,n.A);c||delete l.A;const o=s?l.L/(e+1):(100-l.L)/(e+1),h=Array(e).fill(null).map((t,e)=>({...l,L:l.L+o*(e+1)*(1-2*+s)}));switch(a){case v.HEX:default:return h.map(t=>{const e=ft(t.H,t.S,t.L);return c&&(e.A=t.A),i?c?ie.HEX({...e,A:lt(e.A*_)}):ie.HEX(e):c?me.HEXA(e):me.HEX(e)});case v.RGB:return h.map(t=>{const e=ft(t.H,t.S,t.L);return c&&(e.A=t.A),i?ie.RGB(e,r):c?me.RGBA(e,r.decimals):me.RGB(e,r.decimals)});case v.HSL:return h.map(t=>i?ie.HSL(t,r):c?me.HSLA({...ft(t.H,t.S,t.L),A:t.A},r.decimals):me.HSL(ft(t.H,t.S,t.L),r.decimals));case v.HWB:return h.map(t=>{const e=ft(t.H,t.S,t.L);c&&(e.A=t.A);const s=c?me.HWBA(e,r.decimals):me.HWB(e,r.decimals);return i?ie.HWB(s,r):s});case v.CIELab:return h.map(t=>{const e=ft(t.H,t.S,t.L);c&&(e.A=t.A);const s=c?me.CIELabA(e,r.decimals):me.CIELab(e,r.decimals);return i?ie.CIELab(s,r):s});case v.LCH:return h.map(t=>{const e=ft(t.H,t.S,t.L),s=Gt(e.R,e.G,e.B);return c&&(s.A=t.A),i?ie.LCH(s,r):c?me.LCHA({...e,A:t.A},r.decimals):me.LCH(e,r.decimals)})}},be={buildHarmony(t,e,s,r){const a=Vt(t),i=Qt(t,a),n=Rt(i.R,i.G,i.B,i.A),c="string"==typeof t&&J(i,"A")||"string"!=typeof t&&J(t,"A"),l="string"==typeof t;switch(a){case v.HEX:default:return c?this.HEXA(Zt(n,0),e,s,l):this.HEX(Zt(n,0),e,s,l);case v.HSL:return c?this.HSLA(n,e,s,l,r):this.HSL(n,e,s,l,r);case v.HWB:return c?this.HWBA(n,e,s,l,r):this.HWB(n,e,s,l,r);case v.RGB:return c?this.RGBA(n,e,s,l,r):this.RGB(n,e,s,l,r);case v.CIELab:return c?this.CIELabA(n,e,s,l,r):this.CIELab(n,e,s,l,r);case v.LCH:return c?this.LCHA(n,e,s,l,r):this.LCH(n,e,s,l,r)}},[v.HEX]:(t,e,s,r)=>e(t,s).map(t=>r?ie.HEX(ft(t.H,t.S,t.L)):me.HEX(ft(t.H,t.S,t.L))),HEXA:(t,e,s,r)=>e(t,s).map(t=>r?ie.HEX({...ft(t.H,t.S,t.L),A:At(t.A)*_}):me.HEXA({...ft(t.H,t.S,t.L),A:At(t.A)})),[v.RGB]:(t,e,s,r,a)=>e(t,s).map(t=>r?ie.RGB(ft(t.H,t.S,t.L),a):me.RGB(ft(t.H,t.S,t.L),a.decimals)),RGBA:(t,e,s,r,a)=>e(t,s).map(t=>r?ie.RGB({...ft(t.H,t.S,t.L),A:At(t.A)},a):me.RGBA({...ft(t.H,t.S,t.L),A:At(t.A)},a.decimals)),[v.HSL]:(t,e,s,r,a)=>e(t,s).map(t=>r?ie.HSL({H:t.H,S:t.S,L:t.L},a):me.HSL(ft(t.H,t.S,t.L),a.decimals)),HSLA:(t,e,s,r,a)=>e(t,s).map(t=>r?ie.HSL({...t,A:At(t.A)},a):me.HSLA({...ft(t.H,t.S,t.L),A:At(t.A)},a.decimals)),[v.HWB]:(t,e,s,r,a)=>e(t,s).map(t=>{const e=ft(t.H,t.S,t.L),s=wt(e.R,e.G,e.B);return r?ie.HWB({H:s.H,W:s.W,B:s.B},a):me.HWB(e,a.decimals)}),HWBA:(t,e,s,r,a)=>e(t,s).map(t=>{const e=ft(t.H,t.S,t.L),s=wt(e.R,e.G,e.B);return r?ie.HWB({...s,A:At(t.A)},a):me.HWBA({...e,A:At(t.A)},a.decimals)}),[v.CIELab]:(t,e,s,r,a)=>e(t,s).map(t=>{const e=ft(t.H,t.S,t.L);return r?ie.CIELab(yt(e.R,e.G,e.B),a):me.CIELab(e,a.decimals)}),CIELabA:(t,e,s,r,a)=>e(t,s).map(t=>{const e=ft(t.H,t.S,t.L);return r?ie.CIELab({...yt(e.R,e.G,e.B),A:At(t.A)},a):me.CIELabA({...e,A:At(t.A)},a.decimals)}),[v.LCH]:(t,e,s,r,a)=>e(t,s).map(t=>{const e=ft(t.H,t.S,t.L);return r?ie.LCH(Gt(e.R,e.G,e.B),a):me.LCH(e,a.decimals)}),LCHA:(t,e,s,r,a)=>e(t,s).map(t=>{const e=ft(t.H,t.S,t.L);return r?ie.LCH({...Gt(e.R,e.G,e.B),A:At(t.A)},a):me.LCHA({...e,A:At(t.A)},a.decimals)})},ge={mix(t,e){const s=t.map(t=>{const e=Vt(t);return Qt(t,e)}),r=e===I.SUBTRACTIVE?s.map(t=>{const e=((t,e,s)=>{const r=Math.min(t,e,s),a=Math.min(_-t,_-e,_-s),i=t-r,n=e-r,c=s-r,l=Math.min(i,n),o=i-l,h=(n+l)/2,u=(c+n-l)/2,d=Math.max(o,h,u)/Math.max(i,n,c),m=isNaN(d)||d===1/0||d<=0?1:d;return{R:o/m+a,Y:h/m+a,B:u/m+a}})(t.R,t.G,t.B);return J(t,"A")&&(e.A=t.A),e}):null;function a(t){const s=e===I.ADDITIVE?{R:0,G:0,B:0,A:0}:{R:0,Y:0,B:0,A:0};return t.reduce((t,s)=>{const r=J(s,"A")?s.A:1,a={R:Math.min(t.R+s.R*r,_),B:Math.min(t.B+s.B*r,_),A:1-(1-r)*(1-t.A)},i="G"in t?t.G:t.Y,n="G"in s?s.G:s.Y;return{...a,...e===I.ADDITIVE?{G:Math.min(i+n*r,_)}:{Y:Math.min(i+n*r,_)}}},s)}let i;if(e===I.ADDITIVE)i=a(s);else{const t=a(r);i=((t,e,s)=>{const r=Math.min(t,e,s),a=Math.min(_-t,_-e,_-s),i=t-r,n=e-r,c=s-r,l=Math.min(n,c),o=i+n-l,h=n+l,u=2*(c-l),d=Math.max(o,h,u)/Math.max(i,n,c),m=isNaN(d)||d===1/0||d<=0?1:d;return{R:o/m+a,G:h/m+a,B:u/m+a}})(t.R,t.Y,t.B),i.A=t.A}return{R:lt(i.R),G:lt(i.G),B:lt(i.B),A:ot(i.A,0,1)}},[v.HEX](t,e,s){const r=this.mix(t,e);return delete r.A,s?ie.HEX(r):me.HEX(r)},HEXA(t,e,s){const r=this.mix(t,e);return r.A=s?At(r.A)*_:At(r.A),s?ie.HEX(r):me.HEXA(r)},[v.RGB](t,e,s,r){const a=this.mix(t,e);return delete a.A,s?ie.RGB(a,r):me.RGB(a,r.decimals)},RGBA(t,e,s,r){const a=this.mix(t,e);return s?ie.RGB(a,r):me.RGBA(a,r.decimals)},[v.HSL](t,e,s,r){const a=this.mix(t,e),i=Rt(a.R,a.G,a.B);return delete a.A,delete i.A,s?ie.HSL(i,r):me.HSL(a,r.decimals)},HSLA(t,e,s,r){const a=this.mix(t,e),i=Rt(a.R,a.G,a.B,a.A);return s?ie.HSL(i,r):me.HSLA(a,r.decimals)},[v.HWB](t,e,s,r){const a=this.mix(t,e),i=wt(a.R,a.G,a.B);return delete a.A,delete i.A,s?ie.HWB(i,r):me.HWB(a,r.decimals)},HWBA(t,e,s,r){const a=this.mix(t,e),i=wt(a.R,a.G,a.B,a.A);return s?ie.HWB(i,r):me.HWBA(a,r.decimals)},[v.CIELab](t,e,s,r){const a=this.mix(t,e),i=yt(a.R,a.G,a.B);return delete a.A,s?ie.CIELab(i,r):me.CIELab(a,r.decimals)},CIELabA(t,e,s,r){const a=this.mix(t,e),i=yt(a.R,a.G,a.B);return J(a,"A")&&(i.A=a.A),s?ie.CIELab(i,r):me.CIELabA(a,r.decimals)},[v.LCH](t,e,s,r){const a=this.mix(t,e),i=Gt(a.R,a.G,a.B);return delete a.A,s?ie.LCH(i,r):me.LCH(a,r.decimals)},LCHA(t,e,s,r){const a=this.mix(t,e),i=Gt(a.R,a.G,a.B);return J(a,"A")&&(i.A=a.A),s?ie.LCH(i,r):me.LCHA(a,r.decimals)}},He=(t,e)=>({R:lt(t.R,e),G:lt(t.G,e),B:lt(t.B,e),...J(t,"A")?{A:lt(t.A,e)}:{}}),Le=(t,e,s,r)=>r(Qt(t,e),s),Ce=(t,e,s,r,a)=>{s<1&&(s=5);return((t,e,s)=>{const r=s-1,a=(e.R-t.R)/r,i=(e.G-t.G)/r,n=(e.B-t.B)/r,c=At(t.A),l=(At(e.A)-c)/r;return Array(s).fill(null).map((s,o)=>0===o?t:o===r?e:{R:lt(t.R+a*o),G:lt(t.G+i*o),B:lt(t.B+n*o),A:lt(c+l*o)})})(Qt(t),Qt(e),s).map(t=>a(t,r))};function Be(t){const{from:e,to:s,thirdParameter:r,fourthParameter:a,translateFunction:i,cssFunction:n}=t,c="number"==typeof r?Ce(e,s,r,null==a?void 0:a.decimals,i):Ce(e,s,5,null==r?void 0:r.decimals,i);return n?c.map(t=>n(t,Jt(("number"==typeof r?a:r)??{},e,s))):c}function pe(t){const{colors:e,secondParameter:s,thirdParameter:r,colorMixerFunction:a,css:i}=t,n=Jt(("string"==typeof s?r:s)??{},...e);return a(e,"string"==typeof s?s:I.ADDITIVE,i,n)}const Ee=(t,e,s,r)=>({[w.ANALOGOUS]:be.buildHarmony(e,ce,s,r),[w.COMPLEMENTARY]:be.buildHarmony(e,le,s,r),[w.SPLIT_COMPLEMENTARY]:be.buildHarmony(e,oe,s,r),[w.TRIADIC]:be.buildHarmony(e,he,s,r),[w.TETRADIC]:be.buildHarmony(e,ue,s,r),[w.SQUARE]:be.buildHarmony(e,de,s,r)}[t]),Fe=Object.fromEntries(Object.entries(ge).map(t=>{const[e,s]=t;return[e,s.bind(ge)]}));class fe{constructor(t,e={}){this._options=Jt(e,t),this.rgb=Qt(t),this.update("rgb")}update(...t){t.includes("rgb")||this.updateRGB(),t.includes("hsl")||this.updateHSL(),t.includes("hwb")||this.updateHWB(),t.includes("lab")||this.updateLAB(),t.includes("lch")||this.updateLCH(),t.includes("cmyk")||this.updateCMYK()}updateRGB(){this.rgb={...ft(this.hsl.H,this.hsl.S,this.hsl.L),A:this.hsl.A}}updateHSL(){this.hsl=Rt(this.rgb.R,this.rgb.G,this.rgb.B,this.rgb.A)}updateHWB(){this.hwb=wt(this.rgb.R,this.rgb.G,this.rgb.B,this.rgb.A)}updateLAB(){this.lab={...yt(this.rgb.R,this.rgb.G,this.rgb.B),A:this.rgb.A}}updateLCH(){this.lch={...Gt(this.rgb.R,this.rgb.G,this.rgb.B),A:this.rgb.A}}updateCMYK(){this.cmyk=Pt(this.rgb.R,this.rgb.G,this.rgb.B)}updateRGBFromHWB(){this.rgb={...It(this.hwb.H,this.hwb.W,this.hwb.B),A:this.rgb.A}}updateRGBFromLCH(){this.rgb={...vt(this.lch.L,this.lch.C,this.lch.H),A:this.rgb.A}}updateRGBFromCMYK(){this.rgb={...kt(this.cmyk.C,this.cmyk.M,this.cmyk.Y,this.cmyk.K),A:this.rgb.A}}updateRGBFromLAB(){this.rgb={..._t(this.lab.L,this.lab.a,this.lab.b),A:this.rgb.A}}updateLCHFromLAB(){this.lch={...St(this.lab.L,this.lab.a,this.lab.b),A:this.lab.A}}updateLABromLCH(){this.lab={...Mt(this.lch.L,this.lch.C,this.lch.H),A:this.lch.A}}setOptions(t={}){return this._options={...this._options,...t},this}setR(t){this.rgb.R=ot(t,0,_),this.update("rgb")}setG(t){return this.rgb.G=ot(t,0,_),this.update("rgb"),this}setB(t){return this.rgb.B=ot(t,0,_),this.update("rgb"),this}setH(t){return this.hsl.H=mt(t),this.update("hsl"),this}setS(t){return this.hsl.S=ot(t,0,S),this.update("hsl"),this}setL(t){return this.hsl.L=ot(t,0,S),this.update("hsl"),this}setWhiteness(t){return this.hwb.W=ot(t,0,S),this.updateRGBFromHWB(),this.update("rgb","hwb"),this}setBlackness(t){return this.hwb.B=ot(t,0,S),this.updateRGBFromHWB(),this.update("rgb","hwb"),this}setCIEL(t){return this.lab.L=ot(t,0,S),this.updateRGBFromLAB(),this.updateLCHFromLAB(),this.update("rgb","lab","lch"),this}setCIEa(t){return this.lab.a=ot(t,-125,M),this.updateRGBFromLAB(),this.updateLCHFromLAB(),this.update("rgb","lab","lch"),this}setCIEb(t){return this.lab.b=ot(t,-125,M),this.updateRGBFromLAB(),this.updateLCHFromLAB(),this.update("rgb","lab","lch"),this}setLCHL(t){return this.lch.L=ot(t,0,S),this.updateRGBFromLCH(),this.updateLABromLCH(),this.update("rgb","lab","lch"),this}setLCHC(t){return this.lch.C=ot(t,0,G),this.updateRGBFromLCH(),this.updateLABromLCH(),this.update("rgb","lab","lch"),this}setLCHH(t){return this.lch.H=mt(t),this.updateRGBFromLCH(),this.updateLABromLCH(),this.update("rgb","lab","lch"),this}setA(t){const e=ot(t,0,1);return this.rgb.A=e,this.hsl.A=e,this.hwb.A=e,this.lab.A=e,this.lch.A=e,this.cmyk.A=e,this}setC(t){return this.cmyk.C=ot(t,0,100),this.updateRGBFromCMYK(),this.update("cmyk"),this}setM(t){return this.cmyk.M=ot(t,0,100),this.updateRGBFromCMYK(),this.update("cmyk"),this}setY(t){return this.cmyk.Y=ot(t,0,100),this.updateRGBFromCMYK(),this.update("cmyk"),this}setK(t){return this.cmyk.K=ot(t,0,100),this.updateRGBFromCMYK(),this.update("cmyk"),this}get options(){return this._options}get R(){return lt(this.rgb.R,this.options.decimals)}get G(){return lt(this.rgb.G,this.options.decimals)}get B(){return lt(this.rgb.B,this.options.decimals)}get H(){return lt(this.hsl.H,this.options.decimals)}get S(){return lt(this.hsl.S,this.options.decimals)}get L(){return lt(this.hsl.L,this.options.decimals)}get Whiteness(){return lt(this.hwb.W,this.options.decimals)}get Blackness(){return lt(this.hwb.B,this.options.decimals)}get CIEL(){return lt(this.lab.L,this.options.decimals)}get CIEa(){return lt(this.lab.a,this.options.decimals)}get CIEb(){return lt(this.lab.b,this.options.decimals)}get LCHL(){return lt(this.lch.L,this.options.decimals)}get LCHC(){return lt(this.lch.C,this.options.decimals)}get LCHH(){return lt(this.lch.H,this.options.decimals)}get A(){return lt(this.hsl.A,this.options.decimals)}get C(){return lt(this.cmyk.C,this.options.decimals)}get M(){return lt(this.cmyk.M,this.options.decimals)}get Y(){return lt(this.cmyk.Y,this.options.decimals)}get K(){return lt(this.cmyk.K,this.options.decimals)}get HEXObject(){return me.HEX(this.rgb)}get HEXAObject(){return me.HEXA(this.rgb)}get RGBObject(){return{R:this.R,G:this.G,B:this.B}}get RGBAObject(){return{...this.RGBObject,A:this.A}}get HSLObject(){return{H:this.H,S:this.S,L:this.L}}get HSLAObject(){return{...this.HSLObject,A:this.A}}get HWBObject(){return{H:this.H,W:this.Whiteness,B:this.Blackness}}get HWBAObject(){return{...this.HWBObject,A:this.A}}get CIELabObject(){return{L:this.CIEL,a:this.CIEa,b:this.CIEb}}get CIELabAObject(){return{...this.CIELabObject,A:this.A}}get LCHObject(){return{L:this.LCHL,C:this.LCHC,H:this.LCHH}}get LCHAObject(){return{...this.LCHObject,A:this.A}}get CMYKObject(){return{C:this.C,M:this.M,Y:this.Y,K:this.K}}get CMYKAObject(){return{...this.CMYKObject,A:this.A}}get HEX(){return ie.HEX({R:this.R,G:this.G,B:this.B})}get HEXA(){return ie.HEX({R:this.R,G:this.G,B:this.B,A:this.A*_})}get RGB(){return ie.RGB({R:this.R,G:this.G,B:this.B},this.options)}get RGBA(){return ie.RGB({R:this.R,G:this.G,B:this.B,A:this.A},this.options)}get HSL(){return ie.HSL({H:this.H,S:this.S,L:this.L},this.options)}get HSLA(){return ie.HSL({H:this.H,S:this.S,L:this.L,A:this.A},this.options)}get HWB(){return ie.HWB({H:this.H,W:this.Whiteness,B:this.Blackness},this.options)}get HWBA(){return ie.HWB({H:this.H,W:this.Whiteness,B:this.Blackness,A:this.A},this.options)}get CIELab(){return ie.CIELab({L:this.CIEL,a:this.CIEa,b:this.CIEb},this.options)}get CIELabA(){return ie.CIELab({L:this.CIEL,a:this.CIEa,b:this.CIEb,A:this.A},this.options)}get LCH(){return ie.LCH({L:this.LCHL,C:this.LCHC,H:this.LCHH},this.options)}get LCHA(){return ie.LCH({L:this.LCHL,C:this.LCHC,H:this.LCHH,A:this.A},this.options)}get CMYK(){return ie.CMYK({C:this.C,M:this.M,Y:this.Y,K:this.K},this.options)}get CMYKA(){return ie.CMYK({C:this.C,M:this.M,Y:this.Y,K:this.K,A:this.A},this.options)}static toHEXObject(t){const e=Vt(t);return Le(t,e,0,me.HEX)}static toHEX(t){return ie.HEX(fe.toHEXObject(t))}static toHEXAObject(t){const e=Vt(t);return Le(t,e,0,me.HEXA)}static toHEXA(t){return ie.HEX(fe.toHEXAObject(t))}static toRGBObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.RGB)}static toRGB(t,e={}){const s=fe.toRGBObject(t,e),r=Jt(e,t);return ie.RGB(s,r)}static toRGBAObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.RGBA)}static toRGBA(t,e={}){const s=fe.toRGBAObject(t,e),r=Jt(e,t);return ie.RGB(s,r)}static toHSLObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.HSL)}static toHSL(t,e={}){const s=fe.toHSLObject(t,e),r=Jt(e,t);return ie.HSL(s,r)}static toHSLAObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.HSLA)}static toHSLA(t,e={}){const s=fe.toHSLAObject(t,e),r=Jt(e,t);return ie.HSL(s,r)}static toHWBObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.HWB)}static toHWB(t,e={}){const s=fe.toHWBObject(t,e),r=Jt(e,t);return ie.HWB(s,r)}static toHWBAObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.HWBA)}static toHWBA(t,e={}){const s=fe.toHWBAObject(t,e),r=Jt(e,t);return ie.HWB(s,r)}static toCIELabObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.CIELab)}static toCIELab(t,e={}){const s=fe.toCIELabObject(t,e),r=Jt(e,t);return ie.CIELab(s,r)}static toCIELabAObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.CIELabA)}static toCIELabA(t,e={}){const s=fe.toCIELabAObject(t,e),r=Jt(e,t);return ie.CIELab(s,r)}static toLCHObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.LCH)}static toLCH(t,e={}){const s=fe.toLCHObject(t,e),r=Jt(e,t);return ie.LCH(s,r)}static toLCHAObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.LCHA)}static toLCHA(t,e={}){const s=fe.toLCHAObject(t,e),r=Jt(e,t);return ie.LCH(s,r)}static toCMYKObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.CMYK)}static toCMYK(t,e={}){const s=fe.toCMYKObject(t,e),r=Jt(e,t);return ie.CMYK(s,r)}static toCMYKAObject(t,e={}){const s=Vt(t);return Le(t,s,e.decimals,me.CMYKA)}static toCMYKA(t,e={}){const s=fe.toCMYKAObject(t,e),r=Jt(e,t);return ie.CMYK(s,r)}static getBlendHEXObject(t,e,s=5){return Ce(t,e,s,0,me.HEX)}static getBlendHEX(t,e,s=5){return fe.getBlendHEXObject(t,e,s).map(t=>ie.HEX(t))}static getBlendHEXAObject(t,e,s=5){return Ce(t,e,s,0,me.HEXA)}static getBlendHEXA(t,e,s=5){return fe.getBlendHEXAObject(t,e,s).map(t=>ie.HEX(t))}static getBlendRGBObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.RGB})}static getBlendRGB(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.RGB,cssFunction:ie.RGB})}static getBlendRGBAObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.RGBA})}static getBlendRGBA(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.RGBA,cssFunction:ie.RGB})}static getBlendHSLObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.HSL})}static getBlendHSL(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.HSL,cssFunction:ie.HSL})}static getBlendHSLAObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.HSLA})}static getBlendHSLA(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.HSLA,cssFunction:ie.HSL})}static getBlendHWBObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.HWB})}static getBlendHWB(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.HWB,cssFunction:ie.HWB})}static getBlendHWBAObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.HWBA})}static getBlendHWBA(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.HWBA,cssFunction:ie.HWB})}static getBlendCIELabObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.CIELab})}static getBlendCIELab(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.CIELab,cssFunction:ie.CIELab})}static getBlendCIELabAObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.CIELabA})}static getBlendCIELabA(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.CIELabA,cssFunction:ie.CIELab})}static getBlendLCHObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.LCH})}static getBlendLCH(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.LCH,cssFunction:ie.LCH})}static getBlendLCHAObject(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.LCHA})}static getBlendLCHA(t,e,s,r){return Be({from:t,to:e,thirdParameter:s,fourthParameter:r,translateFunction:me.LCHA,cssFunction:ie.LCH})}static getMixHEXObject(t,e=I.ADDITIVE){return ge.HEX(t,e,!1)}static getMixHEX(t,e=I.ADDITIVE){return ge.HEX(t,e,!0)}static getMixHEXAObject(t,e=I.ADDITIVE){return ge.HEXA(t,e,!1)}static getMixHEXA(t,e=I.ADDITIVE){return ge.HEXA(t,e,!0)}static getMixRGBObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.RGB,css:!1})}static getMixRGB(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.RGB,css:!0})}static getMixRGBAObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.RGBA,css:!1})}static getMixRGBA(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.RGBA,css:!0})}static getMixHSLObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.HSL,css:!1})}static getMixHSL(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.HSL,css:!0})}static getMixHSLAObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.HSLA,css:!1})}static getMixHSLA(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.HSLA,css:!0})}static getMixHWBObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.HWB,css:!1})}static getMixHWB(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.HWB,css:!0})}static getMixHWBAObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.HWBA,css:!1})}static getMixHWBA(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.HWBA,css:!0})}static getMixCIELabObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.CIELab,css:!1})}static getMixCIELab(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.CIELab,css:!0})}static getMixCIELabAObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.CIELabA,css:!1})}static getMixCIELabA(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.CIELabA,css:!0})}static getMixLCHObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.LCH,css:!1})}static getMixLCH(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.LCH,css:!0})}static getMixLCHAObject(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.LCHA,css:!1})}static getMixLCHA(t,e,s){return pe({colors:t,secondParameter:e,thirdParameter:s,colorMixerFunction:Fe.LCHA,css:!0})}static getShades(t,e,s){return"number"==typeof e?Ae(t,e,!0,Jt(s||{},t)):Ae(t,5,!0,Jt(e||{},t))}static getTints(t,e,s){return"number"==typeof e?Ae(t,e,!1,Jt(s||{},t)):Ae(t,5,!1,Jt(e||{},t))}static getHarmony(t,e,s,r){return`${e}`in w?Ee(e,t,gt(s)?s:I.ADDITIVE,Jt(gt(s)?r||{}:s||{},t)):gt(e)?Ee(w.COMPLEMENTARY,t,e,Jt(s||{},t)):Ee(w.COMPLEMENTARY,t,I.ADDITIVE,Jt(e||{},t))}}const Re={slots:{root:"data-[disabled]:opacity-75",picker:"flex gap-4",selector:"rounded-md touch-none",selectorBackground:"w-full h-full relative rounded-md",selectorThumb:"-translate-y-1/2 -translate-x-1/2 absolute size-4 ring-2 ring-(--color-white) rounded-full cursor-pointer data-[disabled]:cursor-not-allowed",track:"w-[8px] relative rounded-md touch-none",trackThumb:"absolute transform -translate-y-1/2 -translate-x-[4px] rtl:translate-x-[4px] size-4 rounded-full ring-2 ring-(--color-white) cursor-pointer data-[disabled]:cursor-not-allowed"},variants:{size:{xs:{selector:"w-38 h-38",track:"h-38"},sm:{selector:"w-40 h-40",track:"h-40"},md:{selector:"w-42 h-42",track:"h-42"},lg:{selector:"w-44 h-44",track:"h-44"},xl:{selector:"w-46 h-46",track:"h-46"}}},compoundVariants:[],defaultVariants:{size:"md"}},ye=["data-disabled"],_e=["data-disabled"];function Se(t){const e=(200-t.s)*t.v/100;return{H:t.h,S:0===e||200===e?0:Math.round(t.s*t.v/(e<=100?e:200-e)),L:Math.round(e/2)}}const Me=R({__name:"ColorPicker",props:t({as:{type:null,required:!1},throttle:{type:Number,required:!1,default:50},disabled:{type:Boolean,required:!1},defaultValue:{type:String,required:!1,default:"#FFFFFF"},format:{type:String,required:!1,default:"hex"},size:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const C=t,B=e(t,"modelValue",{type:String}),p=s(),E=r(()=>{var t;return a({extend:a(Re),...(null==(t=p.ui)?void 0:t.colorPicker)||{}})({size:C.size})}),R=r({get(){try{return function(t){const e=t.S*(t.L<50?t.L:100-t.L),s=t.L+e/100;return{h:t.H,s:0===t.L?t.S:2*e/s,v:s}}(new fe(B.value||C.defaultValue).HSLObject)}catch(t){return{h:0,s:0,v:100}}},set(t){const e=new fe(Se(t),{decimals:2,labUnit:"percent",cmykUnit:"percent",cmykFunction:"cmyk"});switch(C.format){case"rgb":B.value=e.RGB;break;case"hsl":B.value=e.HSL;break;case"cmyk":B.value=e.CMYK;break;case"lab":B.value=e.CIELab;break;default:B.value=e.HEX}}});function y(t,e,s="both",r={x:0,y:0},a){const n=i(r),c=i(),l=F(t),o=F(e);function h(t){if(!c.value)return;const r=L(e);let{x:a,y:i}=n.value;!r||"x"!==s&&"both"!==s||(a=Math.min(Math.max(0,(t.clientX-c.value.x)/r.scrollWidth*100),100)),!r||"y"!==s&&"both"!==s||(i=Math.min(Math.max(0,(t.clientY-c.value.y)/r.scrollHeight*100),100)),n.value={x:a,y:i}}return g&&(f(e,"pointerdown",function(t){if(L(a))return t.preventDefault();const s=L(e);c.value={x:t.clientX-(s?t.clientX-o.left.value+s.scrollLeft:l.left.value),y:t.clientY-(s?t.clientY-o.top.value+s.scrollTop:l.top.value)},h(t)}),f(window,"pointermove",h),f(window,"pointerup",function(){c.value&&(c.value=void 0)})),{position:n}}function _(t,e="left"){return"right"===e?100*t/360:t/100*360}function S(t){return 100-t}const M=i(null),G=i(null),v=i(null),w=i(null),I=r(()=>C.disabled),{position:k}=y(G,M,"both",{x:R.value.s,y:S(R.value.v)},I),{position:P}=y(w,v,"y",{x:0,y:_(R.value.h,"right")},I),{pause:O,resume:x}=n(R,t=>{k.value={x:t.s,y:S(t.v)},P.value={x:0,y:_(t.h,"right")}});c([k,P],()=>{O(),R.value={h:_(P.value.y),s:k.value.x,v:S(k.value.y)},H(x)},{throttle:()=>C.throttle});const j=r(()=>new fe(Se({h:_(P.value.y),s:100,v:100})).HEX),D=r(()=>({backgroundColor:j.value})),W=r(()=>({backgroundColor:new fe(B.value||C.defaultValue).HEX,left:`${k.value.x}%`,top:`${k.value.y}%`})),N=r(()=>({backgroundColor:j.value,top:`${P.value.y}%`}));return(e,s)=>{var r;return o(),l(A(b),{as:t.as,class:d(E.value.root({class:[null==(r=C.ui)?void 0:r.root,C.class]})),"data-disabled":!!I.value||void 0},{default:h(()=>{var t,e,s,r,a,i;return[u("div",{class:d(E.value.picker({class:null==(t=C.ui)?void 0:t.picker}))},[u("div",{ref_key:"selectorRef",ref:M,class:d(E.value.selector({class:null==(e=C.ui)?void 0:e.selector})),style:m(D.value)},[u("div",{class:d(E.value.selectorBackground({class:null==(s=C.ui)?void 0:s.selectorBackground})),"data-color-picker-background":""},[u("div",{ref_key:"selectorThumbRef",ref:G,class:d(E.value.selectorThumb({class:null==(r=C.ui)?void 0:r.selectorThumb})),style:m(W.value),"data-disabled":!!I.value||void 0},null,14,ye)],2)],6),u("div",{ref_key:"trackRef",ref:v,class:d(E.value.track({class:null==(a=C.ui)?void 0:a.track})),"data-color-picker-track":""},[u("div",{ref_key:"trackThumbRef",ref:w,class:d(E.value.trackThumb({class:null==(i=C.ui)?void 0:i.trackThumb})),style:m(N.value),"data-disabled":!!I.value||void 0},null,14,_e)],2)],2)]}),_:1},8,["as","class","data-disabled"])}}},[["__scopeId","data-v-2f14ca51"]]),Ge=C({__name:"ColorPickerField",props:{modelValue:{type:String,default:"#000000"},format:{type:String,default:"hex"},size:{type:String,default:"md"},disabled:{type:Boolean,default:!1},as:{type:String,default:"div"},ui:{type:Object,default:()=>({})},label:{type:String,default:"Select Color"}},emits:["update:modelValue"],setup(t,{emit:e}){const s=e,a=t,n=r(()=>({backgroundColor:a.modelValue,border:`1px solid ${a.modelValue}`})),c=i(a.modelValue);return(t,e)=>{const r=p,i=Me,d=y;return o(),l(d,null,{content:h(()=>[B(i,{modelValue:A(c),"onUpdate:modelValue":[e[0]||(e[0]=t=>E(c)?c.value=t:null),e[1]||(e[1]=t=>s("update:modelValue",t))],class:"p-2",format:a.format,size:a.size,disabled:a.disabled,as:a.as,label:a.label,ui:a.ui},null,8,["modelValue","format","size","disabled","as","label","ui"])]),default:h(()=>[B(r,{label:a.label,color:"neutral",variant:"outline"},{trailing:h(()=>[u("span",{style:m(A(n)),class:"size-3 rounded-full"},null,4)]),_:1},8,["label"])]),_:1})}}});export{Ge as default};
