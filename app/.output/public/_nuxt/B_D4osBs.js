import{u as e}from"./Dnau8eFb.js";import{e as t,ag as a,c as l,d as r,a4 as o,a_ as s,a2 as i,a$ as n,f as u,aH as c}from"./UvJT4o6g.js";const m="data-reka-collection-item";function f(f={}){const{key:v="",isProvider:p=!1}=f,d=`${v}CollectionProvider`;let M;if(p){const e=t(new Map),a=t();M={collectionRef:a,itemMap:e},c(d,M)}else M=a(d);const y=r({name:"CollectionSlot",setup(t,{slots:a}){const{primitiveElement:l,currentElement:r}=e();return u(r,()=>{M.collectionRef.value=r.value}),()=>i(n,{ref:l},a)}}),A=r({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(t,{slots:a,attrs:l}){const{primitiveElement:r,currentElement:u}=e();return o(e=>{if(u.value){const a=s(u.value);M.itemMap.value.set(a,{ref:u.value,value:t.value}),e(()=>M.itemMap.value.delete(a))}}),()=>i(n,{...l,[m]:"",ref:r},a)}});return{getItems:(e=!1)=>{const t=M.collectionRef.value;if(!t)return[];const a=Array.from(t.querySelectorAll(`[${m}]`)),l=Array.from(M.itemMap.value.values()).sort((e,t)=>a.indexOf(e.ref)-a.indexOf(t.ref));return e?l:l.filter(e=>""!==e.ref.dataset.disabled)},reactiveItems:l(()=>Array.from(M.itemMap.value.values())),itemMapSize:l(()=>M.itemMap.value.size),CollectionSlot:y,CollectionItem:A}}export{f as u};
