import{c as t,u as e}from"./DnCr5V3S.js";import{u as a}from"./B_D4osBs.js";import{f as o,E as n,a as r}from"./D3Zd9nM9.js";import{u as s}from"./6YJhDAct.js";import{d as u,t as i,e as l,a as d,o as c,w as p,h as f,u as v,P as m,r as b}from"./UvJT4o6g.js";const[I,T]=t("RovingFocusGroup"),S=u({__name:"RovingFocusGroup",props:{orientation:{default:void 0},dir:{},loop:{type:Boolean,default:!1},currentTabStopId:{},defaultCurrentTabStopId:{},preventScrollOnEntryFocus:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["entryFocus","update:currentTabStopId"],setup(t,{expose:u,emit:I}){const S=t,F=I,{loop:g,orientation:y,dir:h}=i(S),C=s(h),E=e(S,"currentTabStopId",F,{defaultValue:S.defaultCurrentTabStopId,passive:void 0===S.currentTabStopId}),j=l(!1),B=l(!1),_=l(0),{getItems:x,CollectionSlot:w}=a({isProvider:!0});function G(t){const e=!B.value;if(t.currentTarget&&t.target===t.currentTarget&&e&&!j.value){const e=new CustomEvent(n,r);if(t.currentTarget.dispatchEvent(e),F("entryFocus",e),!e.defaultPrevented){const t=x().map(t=>t.ref).filter(t=>""!==t.dataset.disabled),e=[t.find(t=>""===t.getAttribute("data-active")),t.find(t=>t.id===E.value),...t].filter(Boolean);o(e,S.preventScrollOnEntryFocus)}}B.value=!1}function P(){setTimeout(()=>{B.value=!1},1)}return u({getItems:x}),T({loop:g,dir:C,orientation:y,currentTabStopId:E,onItemFocus:t=>{E.value=t},onItemShiftTab:()=>{j.value=!0},onFocusableItemAdd:()=>{_.value++},onFocusableItemRemove:()=>{_.value--}}),(t,e)=>(c(),d(v(w),null,{default:p(()=>[f(v(m),{tabindex:j.value||0===_.value?-1:0,"data-orientation":v(y),as:t.as,"as-child":t.asChild,dir:v(C),style:{outline:"none"},onMousedown:e[0]||(e[0]=t=>B.value=!0),onMouseup:P,onFocus:G,onBlur:e[1]||(e[1]=t=>j.value=!1)},{default:p(()=>[b(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}});export{S as _,I as i};
