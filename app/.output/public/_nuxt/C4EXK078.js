import{y as e,d as a,z as s,j as l,f as t,h as i,k as o,v as r,p as n,B as d,e as m,n as u,g as c,K as p,A as x,_ as f,V as g,C as w}from"./BUKko-Vg.js";import{_ as v}from"./CM7PQ6Zi.js";import{_ as b}from"./DSKkRpTV.js";import{_ as h}from"./C1GLtiRs.js";import"./sFwDOydh.js";import"./CvwnDIXq.js";import"./Du--SvPB.js";import"./DUW1bDgd.js";import"./iBFpUtPW.js";import"./DI9PQmxm.js";import"./BiwOIeCt.js";import"./D0iqVyHD.js";import"./Cb8m8cMJ.js";import"./BJ2lf5Du.js";import"./aV-w2MPu.js";import"./CQ1z_JKt.js";import"./BjTnBUbK.js";import"./Cic7byI7.js";import"./_F_G4MiH.js";const k={class:"min-h-screen w-full relative bg-gray-50 flex items-center justify-center p-4"},P={class:"relative w-full max-w-md bg-white rounded-2xl h-fit shadow-xl ring-[5px] ring-white/50 backdrop-blur-lg overflow-hidden"},y={key:0,class:"p-8 sm:p-10 transition-all duration-300"},j={class:"mb-6 text-center"},_={class:"w-full flex flex-col gap-4"},R={class:"w-full h-10"},V={class:"w-full space-y-3 mt-6"},K={class:"text-center mt-6"},A={class:"text-sm text-neutral-500"},M={key:1,class:"p-8 sm:p-10 transition-all duration-300"},z={class:"mb-6 text-center"},T={class:"text-neutral-500 text-base font-medium mt-2"},I={class:"font-bold text-slate-600"},Y={class:"w-full h-10 mb-4"},B={class:"w-full flex justify-center my-8"},U={class:"w-full space-y-3 mt-6"},C={key:2,class:"p-8 sm:p-10 transition-all duration-300"},O={class:"mb-6 text-center"},L={class:"w-full flex flex-col gap-4"},E={class:"w-full h-10"},F={class:"w-full space-y-3 mt-6"},J=e({__name:"forget-password",setup(e){const J=a("email"),S=s(),G=a({email:"fajar@example.com",pin:["","","","","",""],newPassword:"",confirmPassword:""}),H=a({simpan:!1}),N=a({show:!1,error:!1,message:""}),Q=(e,a,s=3e3)=>{N.value={show:!0,error:a,message:e},setTimeout(()=>{N.value.show=!1},s)},W=()=>{G.value.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G.value.email)?(H.value.simpan=!0,console.log("Sending verification code to:",G.value.email),setTimeout(()=>{Q("Kode verifikasi berhasil dikirim!",!1),H.value.simpan=!1,setTimeout(()=>{J.value="otp",N.value.show=!1},1e3)},1500)):Q("Format email tidak valid!",!0)},Z=()=>{G.value.newPassword&&G.value.confirmPassword?G.value.newPassword===G.value.confirmPassword?(H.value.simpan=!0,console.log("Resetting password..."),Q("Password berhasil diubah! Anda akan diarahkan ke halaman login.",!1,4e3),setTimeout(()=>{S.push("/auth/login"),H.value.simpan=!1},2e3)):Q("Konfirmasi password tidak cocok!",!0):Q("Password tidak boleh kosong!",!0)};return(e,a)=>{const s=d,S=v,$=b,q=f,D=g,X=h;return t(),l("div",k,[a[19]||(a[19]=i("div",{class:"absolute inset-0 z-0 cool-blue-glow"},null,-1)),i("div",P,["email"===r(J)?(t(),l("div",y,[i("div",j,[n(s,{name:"i-mdi-email-fast-outline",class:"text-PRIMARY text-5xl mx-auto"}),a[7]||(a[7]=i("h1",{class:"text-slate-800 text-2xl font-bold leading-tight mt-4"}," Lupa Password? ",-1)),a[8]||(a[8]=i("p",{class:"text-neutral-500 text-base font-medium mt-2"}," Jangan khawatir! Masukkan email Anda di bawah ini untuk menerima kode verifikasi. ",-1))]),i("div",_,[i("div",R,[r(N).show?(t(),m(S,{key:0,title:r(N).message,class:u(["px-4 py-2 font-medium text-xs leading-4 h-auto text-center",[r(N).error?"bg-red-50 text-red-600":"bg-green-50 text-green-600"]])},null,8,["title","class"])):o("",!0)]),n($,{class:"w-full",label:"Email",variant:"soft",placeholder:"Masukkan Email Anda",size:"xl",modelValue:r(G).email,"onUpdate:modelValue":a[0]||(a[0]=e=>r(G).email=e),onKeyup:p(W,["enter"])},{leading:c(()=>[n(s,{name:"i-mdi-email",class:"text-PRIMARY size-5"})]),_:1},8,["modelValue"])]),i("div",V,[n(q,{class:"rounded-xl font-semibold text-base",color:"primary",variant:"solid",size:"xl",block:"",loading:r(H).simpan,disabled:r(H).simpan,onClick:a[1]||(a[1]=e=>W())},{default:c(()=>a[9]||(a[9]=[x(" Kirim Kode Verifikasi ")])),_:1,__:[9]},8,["loading","disabled"])]),i("div",K,[i("p",A,[n(D,{to:"/auth/login",class:"font-medium text-PRIMARY hover:text-opacity-80 inline-flex items-center gap-1"},{default:c(()=>[n(s,{name:"i-mdi-arrow-left"}),a[10]||(a[10]=x(" Kembali ke Login "))]),_:1,__:[10]})])])])):"otp"===r(J)?(t(),l("div",M,[i("div",z,[n(s,{name:"i-mdi-numeric-6-box-multiple-outline",class:"text-PRIMARY text-5xl mx-auto"}),a[13]||(a[13]=i("h1",{class:"text-slate-800 text-2xl font-bold leading-tight mt-4"}," Masukkan Kode OTP ",-1)),i("p",T,[a[11]||(a[11]=x(" Kami telah mengirimkan 6 digit kode verifikasi ke email ")),i("span",I,w(r(G).email),1),a[12]||(a[12]=x(". "))])]),i("div",Y,[r(N).show?(t(),m(S,{key:0,title:r(N).message,class:u(["px-4 py-2 font-medium text-xs leading-4 h-auto text-center",[r(N).error?"bg-red-50 text-red-600":"bg-green-50 text-green-600"]])},null,8,["title","class"])):o("",!0)]),i("div",B,[n(X,{modelValue:r(G).pin,"onUpdate:modelValue":a[2]||(a[2]=e=>r(G).pin=e),length:6,disabled:r(H).simpan,type:"number",otp:"",color:"primary",highlight:"",size:"lg",placeholder:"-"},null,8,["modelValue","disabled"])]),i("div",U,[n(q,{class:"rounded-xl font-semibold text-base",color:"primary",variant:"solid",size:"xl",block:"",loading:r(H).simpan,disabled:r(H).simpan,onClick:a[3]||(a[3]=e=>{6===G.value.pin.length?(H.value.simpan=!0,console.log("Verifying OTP:",G.value.pin),setTimeout(()=>{"123456"===G.value.pin.join("")?(Q("Verifikasi berhasil!",!1),setTimeout(()=>{J.value="reset",N.value.show=!1},1e3)):(Q("Kode OTP salah! Silakan coba lagi.",!0),G.value.pin=["","","","","",""]),H.value.simpan=!1},1500)):Q("Kode OTP harus 6 digit!",!0)})},{default:c(()=>a[14]||(a[14]=[x(" Verifikasi ")])),_:1,__:[14]},8,["loading","disabled"])]),a[15]||(a[15]=i("div",{class:"text-center mt-6"},[i("p",{class:"text-sm text-neutral-500"},[x(" Tidak menerima kode? "),i("button",{class:"font-medium text-PRIMARY hover:text-opacity-80"}," Kirim Ulang ")])],-1))])):"reset"===r(J)?(t(),l("div",C,[i("div",O,[n(s,{name:"i-mdi-lock-reset",class:"text-PRIMARY text-5xl mx-auto"}),a[16]||(a[16]=i("h1",{class:"text-slate-800 text-2xl font-bold leading-tight mt-4"}," Buat Password Baru ",-1)),a[17]||(a[17]=i("p",{class:"text-neutral-500 text-base font-medium mt-2"}," Password baru Anda harus berbeda dari password sebelumnya. ",-1))]),i("div",L,[i("div",E,[r(N).show?(t(),m(S,{key:0,title:r(N).message,class:u(["px-4 py-2 font-medium text-xs leading-4 h-auto text-center",[r(N).error?"bg-red-50 text-red-600":"bg-green-50 text-green-600"]])},null,8,["title","class"])):o("",!0)]),n($,{label:"Password Baru",class:"w-full",variant:"soft",type:"password",size:"xl",placeholder:"Masukkan Password Baru",modelValue:r(G).newPassword,"onUpdate:modelValue":a[4]||(a[4]=e=>r(G).newPassword=e)},{leading:c(()=>[n(s,{name:"i-mdi-password",class:"text-PRIMARY size-5"})]),_:1},8,["modelValue"]),n($,{label:"Konfirmasi Password Baru",class:"w-full",variant:"soft",type:"password",size:"xl",placeholder:"Ulangi Password Baru Anda",modelValue:r(G).confirmPassword,"onUpdate:modelValue":a[5]||(a[5]=e=>r(G).confirmPassword=e),onKeyup:p(Z,["enter"])},{leading:c(()=>[n(s,{name:"i-mdi-check-decagram",class:"text-PRIMARY size-5"})]),_:1},8,["modelValue"])]),i("div",F,[n(q,{class:"rounded-xl font-semibold text-base",color:"primary",variant:"solid",size:"xl",block:"",loading:r(H).simpan,disabled:r(H).simpan,onClick:a[6]||(a[6]=e=>Z())},{default:c(()=>a[18]||(a[18]=[x(" Reset Password ")])),_:1,__:[18]},8,["loading","disabled"])])])):o("",!0)])])}}});export{J as default};
