import{a as e}from"./J3rnYc0k.js";import{d as t,aj as a,c as l,y as r,a5 as o,bQ as s,a3 as i,cB as n,w as c,aI as u}from"./Cv-82GME.js";const m="data-reka-collection-item";function v(v={}){const{key:f="",isProvider:p=!1}=v,d=`${f}CollectionProvider`;let M;if(p){const e=t(new Map),a=t();M={collectionRef:a,itemMap:e},u(d,M)}else M=a(d);const y=r({name:"CollectionSlot",setup(t,{slots:a}){const{primitiveElement:l,currentElement:r}=e();return c(r,()=>{M.collectionRef.value=r.value}),()=>i(n,{ref:l},a)}}),A=r({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(t,{slots:a,attrs:l}){const{primitiveElement:r,currentElement:c}=e();return o(e=>{if(c.value){const a=s(c.value);M.itemMap.value.set(a,{ref:c.value,value:t.value}),e(()=>M.itemMap.value.delete(a))}}),()=>i(n,{...l,[m]:"",ref:r},a)}});return{getItems:(e=!1)=>{const t=M.collectionRef.value;if(!t)return[];const a=Array.from(t.querySelectorAll(`[${m}]`)),l=Array.from(M.itemMap.value.values()).sort((e,t)=>a.indexOf(e.ref)-a.indexOf(t.ref));return e?l:l.filter(e=>""!==e.ref.dataset.disabled)},reactiveItems:l(()=>Array.from(M.itemMap.value.values())),itemMapSize:l(()=>M.itemMap.value.size),CollectionSlot:y,CollectionItem:A}}export{v as u};
