import{r as e}from"./qiqiReYZ.js";import{g as t}from"./_F_G4MiH.js";function r(r){const a=e("",1e3);return{search:a,handleTypeaheadSearch:(e,r)=>{a.value=a.value+e;{const e=t(),n=r.map(e=>{var t,r;return{...e,textValue:(null==(t=e.value)?void 0:t.textValue)??(null==(r=e.ref.textContent)?void 0:r.trim())??""}}),l=n.find(t=>t.ref===e),o=function(e,t,r){const a=t.length>1&&Array.from(t).every(e=>e===t[0]),n=a?t[0]:t,l=r?e.indexOf(r):-1;let o=(u=e,i=Math.max(l,0),u.map((e,t)=>u[(i+t)%u.length]));var u,i;1===n.length&&(o=o.filter(e=>e!==r));const s=o.find(e=>e.toLowerCase().startsWith(n.toLowerCase()));return s!==r?s:void 0}(n.map(e=>e.textValue),a.value,null==l?void 0:l.textValue),u=n.find(e=>e.textValue===o);return u&&u.ref.focus(),null==u?void 0:u.ref}},resetTypeahead:()=>{a.value=""}}}export{r as u};
